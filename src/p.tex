% !TeX root =./x2.tex
% !TeX program = pdfpLaTeX
\frontmatter
\let\originalthesection\thesection
\renewcommand{\thesection}{\alph{section}}

\chapter{数学以前の話}
%\chapter{注意など}
\section{注意}
このメモは随時追記, 修正する.
必ずしも末尾に追記するとは限らない.

講義で解説する順番と必ずしも一致しない.
また, 講義で解説する内容をすべてここにまとめるわけでもなく,
ここでまとめた内容をすべて講義で解説するわけでもない.

忙しくなった場合には,
このメモは
更新しない予定である.

\section{シラバス}
基礎数学A1(理学部数学科2年1学期)の講義ノートがベースになっているが,
必ずしも同一ではない.
基礎数学A1のシラバスに挙げた項目は以下の通り:
\begin{enumerate}
\item
  ベクトル空間，
\item 線形写像，
\item 行列式，
\item 固有値$\cdot$固有ベクトル,
\item 行列の対角化
\end{enumerate}

授業題目は, `本格的な線形代数学 その1'となっており,
基礎数学A1の後には, 基礎数学A2 (2年2学期)が開講される.
基礎数学A1およびそれに続く基礎数学A2を通して,
複素数体上のベクトル空間および線形写像の基礎理論と計算法を講義する.
また, 線形写像の行列による表現やそれによる固有値の計算法や
写像の性質を調べる方法を与える.
基礎数学A1では,
ベクトル空間，線形写像，行列式，固有値・固有ベクトル, 行列の対角化
を取り扱うこととなっており,
基礎数学A2では,
内積, 内積を用いる行列の対角化(正規行列),
ジョルダン標準形
を取り扱うこととなっている.
したがって,
ここでは, 
内積に関わることやジョルダン標準形に関すること(最小多項式の求め方など)は,
基本的には扱わない.

1年生前期に開講される線形代数I
の履修を前提とする.
線形代数Iでは,
行列，連立１次方程式，基本変形，階数，行列式，逆行列，2 x 2行列の対角化
がキーワードとして挙げられており,
以下が取り扱われている:
\begin{enumerate}
\item 行列：定義と演算（和・スカラ－倍・積），行列の転置
\item 連立１次方程式の理論：消去法, 掃き出し法，基本変形と基本行列
\item 行列の階数：基本変形と計算
\item 逆行列, 掃き出し法
\item 行列式：定義と基本的な性質
\item 余因子行列と余因子展開，クラメ－ルの公式
\item 2 x 2行列の固有値，固有ベクトル，対角化
\end{enumerate}
これらについては,
必要に応じて各自復習をしておくことを勧める.


一方,
1年生後期に開講される線形代数II
の履修は前提としない.
しかし,
1年生後期で開講される線形代数IIでも,
抽象ベクトル空間などが講義され,
内容が重なっている部分が多い.
復習をしておくと,
この講義の理解の助けになると思われる.

本講義のキーワードは以下の通り:
\begin{enumerate}
\item 線形空間
\item 線形写像, 同型写像
\item Ker Img
\item 双対空間, Hom
\item 部分空間
\item (剰余空間と準同型定理)
\item 生成系
\item 一次独立性
\item 基底
\item 次元 (次元の一意性)
\item 基底の延長定理
\item 次元定理
\item 和と共通部分
\item 内部直和, 外部直和
\item 表現行列, 基底の変換行列
\end{enumerate}

\section{参考書}
講義では教科書は特に指定しないが,
参考書を手元においておき,
講義の中での説明と,
参考書の記述を比べながら学習することを勧める.

参考書については,
線形代数学IIと内容が重複していることから,
線形代数学IIで指定されていた教科書等でも構わないし,
この講義に引き続いて後期に行われる
基礎数学A2で指定されている教科書等でも構わない.

%% このノートの末尾に挙げた参考文献のうち,
%% \cite{978-4-7806-0772-7}
%% はシラバスに教科書として挙げたものである.
%% \cite{978-4-7806-0164-0,978-4-535-78682-0}
%% はシラバスに参考書として挙げたものである.


\cite{978-4-535-78682-0}は大学の数学に関する講義全般について解説している本である.
講義を受ける上での注意や,
講義の前提となる集合や論理の知識についても解説がしてある.
本講義とは直接関係はないが,
図書館で借りるなどして一度最初の数章を読んでみることを勧める.

\section{講義で使われる見出し}
講義に出てくる言明には大きく分けて二つあります:
\begin{itemize}
 \item 証明が必要ではないもの
 \item 証明が必要なもの
\end{itemize}
また講義の板書では,
言明に見出しをつけることがしばしばあります.
以下では使われる見出しについて説明します.
\subsection{証明が必要ではない言明}
言葉の持つ意味を決めることが,
`定義'です.
つまり, ルールを決めるということです.
ルールを設定するということですので,
`定義'自身に証明は必要ではありません.

数学書では定義される用語をイタリック/太文字/下線で
書く習慣があります.
重要だからという理由で強調されているわけではありません.

Def/Definition/定義 などの見出しが使われます.

\subsection{証明が必要な言明}
証明をして真である確認する必要がある言明は,
`命題'と呼ばれます.
`主張' や `事実' と呼ぶこともあると思います.

講義では, 
気分や役割により次の様に分類することが多いと思います.
これらのうち, どの見出しを使うかというのは, 
かなり主観的です.
\begin{description}
\item[定理]
重要なもの, まとめ的なもの など 比較的重いものに使われます.

Thm/Theorem/定理  などの見出しを使います.

\item[補題]
他の命題を示すために使うものに使われます.

Lem/Lemma/補題  などの見出しを使います.

\item[系]
他からすぐ示すことができるものに使われます.

Cor/Corollary/系  などの見出しを使います.
\item[その他の命題]

Prop/Porposition/命題  などの見出しを使います.
\end{description}

\subsection{補足}
また見出しとしては次のようなものも使こともあります:
\begin{itemize}
 \item 
実例, 具体例 (`喩え'ではない) を述べる際に,
例/Example/E.g.\   などの見出しを使います.
\item
補足的なことを述べる際に,
注/Rem/Remark   などの見出しを使います.
\end{itemize}

\tableofcontents


\renewcommand{\thesection}{\originalthesection}
\mainmatter

\chapter{線形代数以前の話}


\section{集合や論理について}

集合や論理についての基本的なことについては,
既知とします.
もしそれらについて不安な人は,
高校の教科書の該当箇所や,
\cite{978-4-535-78682-0}
を参考に復習をすること.

基本的な概念:
\begin{enumerate}
  \item 集合 $\in$, $\subset$, 極大極小最大最小.
  \item 写像 $\circ$
  \item 恒等写像$\id_V$.
  \item 演算, 作用.
\end{enumerate}


以下の記号を用いる:
\begin{itemize}
\item 複素数全体のなす集合を$\CC$とおく.
\item 実数全体のなす集合を$\RR$とおく.
\item 有理数全体のなす集合を$\QQ$とおく.
\item 整数全体のなす集合を$\ZZ$とおく.
\item 非負整数全体のなす集合を$\NN$とおく.
\end{itemize}
つまり,
`$x\in\CC$'は
`$x$は複素数である'
ということを意味する.

演算と作用について.

\section{体}
$K$を集合とする.
$K$に四則演算(加減乗除)が定まっているとき,
$K$は
\defit{体}\footnote{タイと読む.}
\Defit{field}
であるという.
ただし,
``四則演算が定まっている''
とは, 次を満たしていることとする:
\begin{enumerate}
\item
  $s,t\in K$に対し$s+t$という$K$の元が定まる.
  (この演算を加法と呼ぶ.)
  さらに, $0$という(特別な)元がある.

  $a,b,c\in K$なら, 次が成り立つ:
  \begin{enumerate}
  \item
    $(a+b)+c=a+(b+c)$.
  \item
    $a+b=b+a$.
  \item
    $0+a=a$.
  \item
    $x$に関する方程式
    \begin{align*}
      a+x=0
    \end{align*}
    が($K$の元の)解を持つ.
  \end{enumerate}
\item
  $a+x=0$が解を持つとき,
  その解は,
  $a$が定まればただ一つに定まるので,
  この解を$-a$と書く.

  $b+(-a)$を$b-a$と略記する。
  (この演算を加法と呼ぶ.)

\item
  $s,t\in K$に対し$st$という$K$の元が定まる.
  (この演算を乗法と呼ぶ.)
  さらに, $1$という(特別な)元がある.

  $a,b,c\in K$なら, 次が成り立つ:
  \begin{enumerate}
  \item
    $(ab)c=a(bc)$.
  \item
    $ab=ba$.
  \item
    $1a=a$.
  \item
    $a\neq 0$ならば,
    $x$に関する方程式
    \begin{align*}
      ax=1
    \end{align*}
    が($K$の元の)解を持つ.
  \end{enumerate}

\item
  $ax=1$が解を持つとすると,
  その解は,
  $a$が定まればただ一つに定まるので,
  この解を$a^{-1}$とか$\frac{1}{a}$と書く.

  $b(\frac{1}{a})$を$\frac{b}{a}$と略記する。
  (この演算を除法と呼ぶ.)

\item
  $a,b,c\in K$なら, 以下が成り立つ:
  \begin{enumerate}
  \item $a(b+c)=ab+ac$.
  \item $0\neq 1$.
  \end{enumerate}
\end{enumerate}

\begin{remark}
  つまり体とは,
  結合則, 分配則, 可換則などが成り立つ
  (その集合の中で閉じた)四則演算が備わった数の集合のことである.
\end{remark}


\begin{example}
  $\CC$は体である.
\end{example}
\begin{example}
  $\RR$は体である.
\end{example}
\begin{example}
  $\QQ$は体である.
\end{example}
\begin{remark}
  証明は省略する.
  以後これらは事実として使う.
\end{remark}
\begin{remark}
  掛け算は$ab$または$a\cdot b$のように書き表す.
  ($\times$は本原稿では別の意味で使うので,
  掛け算の意味では用いない)
\end{remark}


\begin{example}
  $2\in\ZZ$ではあるが$\frac{1}{2}\not\in \ZZ$である.
  したがって$2x=1$は$\ZZ$の元の解を持たない.
  $2\neq 0$であるが$2x=1$は$\ZZ$の元の解を持たないので,
  $\ZZ$は体ではない.
\end{example}


\section{行列など}
\begin{enumerate}
\item 行列の和, スカラー倍, 積, 転置.
\item 行列式.
\item 三角行列, 正方行列.
\end{enumerate}
%% 本講義では,
%% 体$K$の元のことを数と呼ぶ.
%% つまり,
%% 数に対しては四則演算ができる.
%% 特に断らない限り,
%% 体としては何を考えても構わない.


\sectionX{章末問題}

\begin{quiz}
  %\solvelater{quiz:0:1}
  $\KK$を体とし, $V$を$\KK$を成分とする$(2,1)$行列の集合とする.
  つまり,
  \begin{align*}
    V=\Set{\begin{pmatrix}a_1\\a_2\end{pmatrix}|a_1,a_2\in \KK}
  \end{align*}
  とする. 通常の和とスカラー倍を考える.  つまり,
  \begin{align*}
    a&=\begin{pmatrix}a_1\\a_2\end{pmatrix}, & b&=\begin{pmatrix}b_1\\b_2\end{pmatrix} \in V
  \end{align*}
  $\alpha\in\KK$に対し,
  \begin{align*}
    a+b&=\begin{pmatrix}a_1+b_1\\a_2+b_2\end{pmatrix}, & \alpha a=\begin{pmatrix}\alpha a_1\\\alpha a_2\end{pmatrix} \in V
  \end{align*}
  とする. また,
  \begin{align*}
  \zzero=
  \begin{pmatrix}
    0\\0
  \end{pmatrix}
  \end{align*}
  とする.
  このとき, $\alpha,\beta\in\KK$, $a,b,c\in V$に対し, 以下を示せ:
  \begin{enumerate}
    \item $a+b=b+a$.
    \item $(a+b)+c=a+(b+c)$.
    \item $a+\zzero=a$.
    \item $a+(-1 a)=a$.
    \item $(\alpha\beta)a=\alpha(\beta a)$.
    \item $1a=a$.
    \item $\alpha(a+b)=\alpha a+\alpha b$.
    \item $(\alpha+\beta)a=\alpha a+\beta a$.
  \end{enumerate}
\end{quiz}

\begin{quiz}
  %\solvelater{quiz:0:1}
  $\KK$を体とし, $V$を$\KK$を成分とする$(2,1)$行列の集合とする.
  $A$を$\KK$を成分とする$(2,2)$行列とし,
  \begin{align*}
    \shazo{\varphi}{V}{V}{x}{Ax}
  \end{align*}
  とする.
  このとき, 以下を示せ:
  \begin{enumerate}
    \item $a,b\in V\implies \varphi(a+b)=\varphi(a)+\varphi(b)$.
    \item $\alpha\in\KK, a\in V\implies \varphi(\alpha a)=\alpha\varphi(a)$.
  \end{enumerate}
\end{quiz}

\begin{quiz}
  %\solvelater{quiz:0:1}
  $\KK$を体とし, $a, b\in \KK$とする.
  \begin{align*}
    \shazo{\varphi}{\KK}{\KK}{x}{ax+b}
  \end{align*}
  とする.
  \begin{enumerate}
  \item
  $b=0$なら, 以下がなりたつことを示せ:
  \begin{enumerate}
    \item $x,y\in \KK\implies \varphi(x+y)=\varphi(x)+\varphi(y)$.
    \item $\alpha\in\KK x\in \KK\implies \varphi(\alpha x)=\alpha\varphi(x)$.
  \end{enumerate}
  \item
  $b\neq 0$なら, 以下がなりたたないことを示せ:
  \begin{enumerate}
    \item $x,y\in \KK\implies \varphi(x+y)=\varphi(x)+\varphi(y)$.
    \item $\alpha\in\KK x\in \KK\implies \varphi(\alpha x)=\alpha\varphi(x)$.
  \end{enumerate}
  \end{enumerate}
\end{quiz}


\chapter{線形空間と線形写像}
ここでは, 線形空間と線形写像を定義し,
いくつかの例を挙げる.
また, 線形空間が同型であるということを定義する.

\section{線形空間の定義とその例}
線形空間の定義と例を挙げる.

\begin{definition}
  $(\KK,+,\cdot,0,1)$を体とする.
  $V$を集合とする.
  $\pplus\colon V\times V \to V$を$V$上の二項演算とする.
  $\act \colon \KK\times V \to V$を$\KK$の$V$への作用とする.
  $0_V \in V$とする.

  以下の条件を満たすとき,
  $(V,\pplus,\act ,0_V)$が$\KK$上のベクトル空間とか$\KK$-線形空間であるいう:
  \begin{enumerate}
  \item 
    \begin{enumerate}
    \item $u,w\implies  u\pplus w=w\pplus u$.
    \item
      \label{def:vecsp:item:sum:ass}
      $v,w,u\in V \implies (v\pplus w)\pplus u=v\pplus (w\pplus u)$.
    \item $w\in V \implies 0_V\pplus w=w$.
    \item $w\in V\implies $ `$w\pplus x=0_V$を満たす$x\in V$が存在する'.
    \end{enumerate}
  \item
    \begin{enumerate}
    \item
      \label{def:vecsp:item:prod:ass}
      $a,b\in\KK, w\in V \implies a\act (b\act w)=(a\cdot b)\act w$
    \item $w\in V \implies 1\act w=w$.
    \end{enumerate}
  \item
    \begin{enumerate}
    \item $a\in \KK,u,w\in V \implies a\act (u\pplus w)=(a\act u)\pplus (a\act w)$.
    \item $a,b\in\KK, w\in V\implies (a+b)\act w=(a\act w)\pplus (b\act w)$.
    \end{enumerate}
  \end{enumerate}
\end{definition}
\begin{remark}
  $(V,+,\act ,0_V)$が$\KK$-線形空間
  であるとき,
  $+$を加法, $\act $をスカラー倍と呼ぶ.
  また, $0_V$を$V$の零元とか零ベクトルと呼ぶ.
  また, 
  $(V,+,\act ,0_V)$が$\KK$-線形空間であることを,
  $V$は加法$+$とスカラー倍$\act $で$0_V$を零元とする$\KK$-線形空間であるということもある.
  また, $+$, $\act $, $0_V$が文脈上明らかなときには,
  単に$V$を$\KK$-線形空間と呼ぶこともある.
\end{remark}
\begin{remark}
  $(V,+,\act ,0_V)$が$\KK$上のベクトル空間
  であるとき,
  $V$の元をベクトルと呼ぶ.
  また, 零元$0_V$のことを, 零ベクトルと呼ぶこともある.
\end{remark}

まず, ベクトル空間の例をいくつか挙げる.

\begin{example}
  $\KK$を体とし, $n\geq 1$とする.
  このとき,
  \begin{align*}
    \KK^n
    =\Set{\begin{pmatrix}a_1\\\vdots\\a_n\end{pmatrix}|a_1,\ldots,a_n\in \KK}
  \end{align*}
  とおく.
  このとき, $a_i,b_i,c\in\KK$に対し,
  \begin{align*}
    \begin{pmatrix}a_1\\\vdots\\a_n\end{pmatrix}+\begin{pmatrix}b_1\\\vdots\\b_n\end{pmatrix}
      &=\begin{pmatrix}a_1+b_1\\\vdots\\a_n+b_n\end{pmatrix},\\
    c\begin{pmatrix}a_1\\\vdots\\a_n\end{pmatrix}
    &=\begin{pmatrix}ca_1\\\vdots\\ca_n\end{pmatrix}
    \intertext{とし,}
    \zzero_n&=\begin{pmatrix}0\\\vdots\\0\end{pmatrix}
  \end{align*}
  とおくと,
  $(\KK^n,+,\act ,\zzero_n$は$\KK$-線形空間.
  これを$\KK$上の$n$次元数ベクトル空間と呼ぶ.

  また, 形式的に,
  長さ$0$の列, つまり空列$()$を考え,
  これを$\zzero_0$と書き,
  \begin{align*}
    \KK^0
    =\Set{\zzero_0}
  \end{align*}
  とおく.
  このとき, $c\in\KK$に対し,
  \begin{align*}
    \zzero_0+\zzero_0&=\zzero_0\\
    c\act \zzero_0&=\zzero_0
  \end{align*}
  とおくと,
  $(\KK^0,+,\act ,\zzero_0)$は$\KK$-線形空間.
  これを$\KK$上の$0$次元数ベクトル空間と呼ぶ.
\end{example}

\begin{example}
  $\KK$を体とし, $n,m\geq 1$とし,
  $I=\Set{1,\ldots,m}$, $J=\Set{1,\ldots, n}$とする.
  このとき,
  \begin{align*}
    \KK^{m \times n}
    =\Set{(a_{i,j})_{i\in I,j\in J}|a_{i,j}\in \KK}
  \end{align*}
  とおく.
  このとき, $a_{i,j},b_{i,j},c\in\KK$に対し,
  \begin{align*}
    (a_{i,j})_{i\in I,j\in J}
    +(b_{i,j})_{i\in I,j\in J}
      &=(a_{i,j}+b_{i,j})_{i\in I,j\in J},\\
    c(a_{i,j})_{i\in I,j\in J}
    &=(ca_{i,j})_{i\in I,j\in J}
    \intertext{とし,}
    O_{m,n}&=(0)_{i\in I,j\in J}
  \end{align*}
  とおくと,
  $(\KK^{m \times n},+,\act ,O_{m,n})$は$\KK$-線形空間.
\end{example}

\begin{example}
  $\NN$で添字付けられた数列$a_0, a_1,\ldots$を
  $(a_i)_{i\in \NN}$
  で表す.
  $\KK$を体とする.
  \begin{align*}
    \KK^\NN = \Set{(a_i)_{i\in \NN}|a_i\in \KK}
  \end{align*}
  とおく.
  次の和とスカラー倍で, $(0)_{i\in \NN}$を零元とする$\KK$-線形空間:
  $c\in\KK$, $(a_i)_{i\in \NN},(b_i)_{i\in \NN}\in \KK^\NN$に対し,
  \begin{align*}
    (a_i)_{i\in \NN}+(b_i)_{i\in \NN} &= (a_i+b_i)_{i\in \NN},\\
    c(a_i)_{i\in \NN} &= (ca_i)_{i\in \NN}.
  \end{align*}
\end{example}

\begin{example}
  $\KK$を体とする.
  $X$を集合とする.
  \begin{align*}
    \KK^X = \Set{f\colon X \to \KK \text{; 写像}}
  \end{align*}
  とする.
  $c\in\KK$, $f,g\in \KK^X$に対し,
  $f+g\in \KK^X$と$c\act f\in\KK^X$を以下で定める:
  $x\in X$に対し,
  \begin{align*}
    (f+g)(x) &= f(x)+g(x),\\
    (c\act f)(x) &= c(f(x)).
  \end{align*}
  また $\underline{0}\in\KK^X$を以下で定める:
  $x\in X$に対し,
  \begin{align*}
    \underline{0}(x)=0.
  \end{align*}
  このとき, $(\KK^X,+,\act ,\underline{0})$は,
  $\KK$-線形空間.
\end{example}

\begin{example}
  $\KK$を体とする.
  $X$を集合とし, $(V,+,\act,0_V)$を$\KK$-線形空間とする.
  \begin{align*}
    V^X = \Set{f\colon X \to V \text{; 写像}}
  \end{align*}
  とする.
  $c\in\KK$, $f,g\in V^X$に対し,
  $f+g\in V^X$と$c\act f\in V^X$を以下で定める:
  $x\in X$に対し,
  \begin{align*}
    (f+g)(x) &= f(x)+g(x),\\
    (c\act f)(x) &= c\act (f(x)).
  \end{align*}
  また $\underline{0_V}\in\KK^X$を以下で定める:
  $x\in X$に対し,
  \begin{align*}
    \underline{0_V}(x)=0_V.
  \end{align*}
  このとき, $(\KK^X,+,\act ,\underline{0_V})$は,
  $\KK$-線形空間.
\end{example}

\begin{example}
  $(\KK,+,\cdot,0)$を体とする.
  体としての和と積で$\KK$-線形空間.
  つまり, $(\KK,+,\cdot,0)$は, $\KK$-線形空間.
\end{example}

\begin{example}
  $\CC=\Set{a+b\sqrt{-1}|a,b\in \RR}$は,
  通常の和と積で$\CC$-線形空間.
  また,
  $\CC$は,
  通常の和と積で$\RR$-線形空間でもある.
\end{example}

\begin{example}
  \begin{align*}
    V=\Set{a+b\sqrt{2}|a,b\in\QQ}
  \end{align*}
  とすると,
  通常の和と積で$\QQ$-線形空間.
\end{example}

\begin{example}
  $\zeta_n= e^{\frac{2\pi\sqrt{-1}}{n}}=\cos(\frac{2\pi}{n})+\sqrt{-1}\sin(\frac{2\pi}{n})$
  とする.
  \begin{align*}
    V=\Set{\sum_{i=0}^{n}a_i\zeta_n^i|a_i\in\QQ}
  \end{align*}
  とすると,
  通常の和と積で$\QQ$-線形空間.
\end{example}

\begin{example}
  $\CC$は,
  通常の和と積で$\RR$-線形空間.
\end{example}



表記方法などについてのいくつかコメントする.
\begin{remark}
\Cref{def:vecsp:item:sum:ass}
があるので, $v+w+u$を, $(v+w)+u$と思っても,
$v+(w+u)$と思っても差し支えない.
そこで, $(v+w)+u$を$v+w+u$と略記する.
\end{remark}
\begin{remark}
\Cref{def:vecsp:item:prod:ass}
があるので, $abw$を, $a\act (b\act w)$と思っても,
$(a\cdot b)\act w$と思っても差し支えない.
そこで, $a\act (b\act w)$を$abw$と略記する.
もっと一般に, $n\geq 1$, $a_1,\ldots, a_n\in\KK$, $w\in V$に対し,
$a_1\act (a_2\act \ldots\act (a_n\act w)\cdots)$のことを
$a_1\cdots a_n w$と略記する.
\end{remark}
\begin{remark}
  $\KK$上のベクトル空間の定義において,
  割り算は条件として現れない.
  したがって,
  これらの条件を, ある可換環に対して満たすものという概念を定義することができる.
\end{remark}
\begin{prop}
  \label{lem:uniq:zero}
  $(V,+,\act ,0_V)$を$\KK$-線形空間とする.
  $o\in V$が, 次の条件を満たすとする:
  \begin{align*}
    w\in V \implies w+o=w.
  \end{align*}
  このとき, $o=0_V$.
\end{prop}
\begin{proof}
  $0_V$の満たす条件から$0_V+o=o$.
  一方, $o$の満たす条件から$0_V+o=0_V$.
  よって, $0_V=0_V+o=o$.
\end{proof}
\begin{remark}
  $u,w\in V$に対し, $u+w=w+u$であるので,
  次の条件は同値である:
  \begin{enumerate}
  \item $w\in V \implies w+o=w$.
  \item $w\in V \implies o+w=w$.
  \end{enumerate}
  したがって, \cref{lem:uniq:zero}から,
  零ベクトルの条件を満たす元はただ一つしかないことがわかる.
  何が$V$の零ベクトルであるかを明示しなくともよい場合は,
  単に$(V,+,\act )$を$\KK$-線形空間と呼ぶこともある.
\end{remark}
\begin{prop}
  \label{prop:zeroveciszeroscalar}
  $(V,+,\act ,0_V)$を$\KK$-線形空間とする.
  このとき,
  \begin{align*}
    w\in V \implies 0\act w=0_V. 
  \end{align*}
\end{prop}
\begin{proof}
  $x\in x$は
  $0\act w+x=0_V$を満たすとする.
  このとき,
  \begin{align*}
    (0\act w+0\act w)+x&=(0+0)\act w+x=0\act w+x=0_V\\
    0\act w+(0\act w+x)&=0\act w+0_V=0\act w
  \end{align*}
  よって, $0\act w=0_V$.  
\end{proof}

\begin{lemma}
  \label{lem:uniq:inv}
  $(V,+,\act ,0_V)$を$\KK$-線形空間とする.
  $w\in V$とする.
  $x,y\in V$が以下を満たすなら$x=y$:
  \begin{align*}
    w+x&=0_V\\
    y+w&=0_V
  \end{align*}
\end{lemma}
\begin{proof}
  $x$の満たす条件から,
  $y+(w+x)=y+0_V=y$.
  $y$の満たす条件から,
  $(y+w)+x=0_V+x=x$.
  よって$x=y$.
\end{proof}
\begin{remark}
  $u,w\in V$に対し, $u+w=w+u$であるので,
  次の条件は同値である:
  \begin{enumerate}
  \item $w+x=0_V$.
  \item $x+w=0_V$.
  \end{enumerate}
  したがって, \cref{lem:uniq:inv}から,
  各$w\in V$に対し, $w+x=0_V$を満たす$x\in V$は
  ただ一つしかないことがわかる.
\end{remark}
\begin{prop}
  $(V,+,\act ,0_V)$を$\KK$-線形空間とする.
  $w,x\in V$に対し,
  以下は同値:
  \begin{enumerate}
  \item
    \label{prop:inverse:-1:item:1}
    $w+x=0_V$.
  \item
    \label{prop:inverse:-1:item:2}
    $x=(-1)\act w$.    
  \end{enumerate}
\end{prop}
\begin{proof}
  \Cref{prop:zeroveciszeroscalar}より,
  \begin{align}
    w+(-1)\act w=(1-1)\act w=0\act w=0_V.
  \end{align}
  したがって,
  $w+x=0_V$を満たす
  $x$は$(-1)\act w$に等しいことがわかる.
\end{proof}

\begin{remark}
  $(-1)\act w$のことを$-w$と略記する.
  また, $u+(-w)$のことを$u-w$と略記する.
\end{remark}




\section{線形写像の定義とその例}
\begin{definition}
  $(V,+,\act)$, $(W,\pplus,\aact)$を$\KK$-線形空間とする.
  $\varphi$を$V$から$W$への写像とする.
  $\varphi$が以下の条件を満たすとき,
  $\varphi$は$(V,+,\act)$から$(W,\pplus,\aact)$への$\KK$-線形写像であるという:
  \begin{enumerate}
    \item $v,u\in V\implies \varphi(v+u)=\varphi(v)\pplus\varphi(u)$.
    \item $c\in \KK, u\in V\implies \varphi(c\act v)=c\aact\varphi(v)$.
  \end{enumerate}
\end{definition}

\begin{definition}
  $\varphi$は$(V,+,\act)$から$(W,\pplus,\aact)$への$\KK$-線形写像であることを,
  写像$\varphi$は$\KK$-線形であるということもある.
\end{definition}

線形写像の例をいくつか挙げる.


\begin{example}
  $\KK$を体とする.
  $A\in \KK^{m\times n}$とし,
  $\varphi$を次の写像とする:
  \begin{align*}
    \shazo{\varphi}{\KK^m}{\KK^n}{w}{Aw}.
  \end{align*}
  このとき, $\varphi$は$\KK$-線形である.
\end{example}

\begin{example}
  $\KK$を体とする.
  $A\in \KK^{m\times n}$とし,
  $\varphi$を次の写像とする:
  \begin{align*}
    \shazo{\varphi}{\KK^{k\times m}}{\KK^{k\times n}}{X}{AX}.
  \end{align*}
  このとき, $\varphi$は$\KK$-線形である.
\end{example}

\begin{example}
  $\KK$を体とする.
  $\varphi$を次の写像とする:
  \begin{align*}
    \shazo{\varphi}{\KK^{m\times n}}{\KK^{n\times m}}{A}{\transposed{A}}.
  \end{align*}
  このとき, $\varphi$は$\KK$-線形である.
\end{example}

\begin{example}
  $\KK$を体とし,
  $I=\Set{1,2,\ldots, n}$する.
  $\tr$を次の写像とする:
  \begin{align*}
    \shazo{\tr}{\KK^{n\times n}}{\KK}{(a_{i,j})_{i\in I, j\in A}}{\sum_{i\in I}a_{i,i}}.
  \end{align*}
  この写像は$\KK$-線形である.
  $A\in \KK^{n\times n}$に対し,
  $\tr(A)$を$A$のトレースと呼ぶ.
\end{example}


\begin{example}
  $\varphi$を次の写像とする:
  \begin{align*}
    \shazo{\varphi}{\CC}{\CC}{z}{\overline{z}},
  \end{align*}
  ただし, 
  $x,y\in\RR$に対し$\overline{x+y\sqrt{-1}}=x-y\sqrt{-1}$, つまり,
  $\overline{z}$は$z$の複素共軛とする.
  このとき, $\varphi$は$\RR$-線形である.
  しかし, $\CC$-線形ではない.
\end{example}

\begin{example}
  $a\in\RR$とする.
  $\varphi$を次の写像とする:
  \begin{align*}
    \shazo{\varphi}{\RR}{\RR}{x}{ax}.
  \end{align*}
  これは$\RR$-線形写像である.
  $\psi$を次の写像とする:
  \begin{align*}
    \shazo{\psi}{\RR}{\RR}{x}{ax+1}.
  \end{align*}
  これは$\RR$-線形写像ではない.
  $\phi$を次の写像とする:
  \begin{align*}
    \shazo{\phi}{\RR}{\RR}{x}{x^2}.
  \end{align*}
  これは$\RR$-線形写像ではない.
\end{example}

\begin{example}
  $\KK$を体とする.
  $\varphi$を次の写像とする:
  \begin{align*}
    \shazo{\varphi}{\KK^\NN}{\KK^\NN}{(a_i)_{i\in \NN}}{(a_{i+1})_{i\in \NN}}.
  \end{align*}
  このとき, $\varphi$は$\KK$-線形である.
\end{example}

\begin{example}
  $(V,+,.,\zzero)$を$\KK$線形空間とする.
  $w_1,\ldots,w_r\in V$に対し,
    \begin{align*}
      \shazo{\varphi}{\KK^r}{V}
      {\begin{pmatrix}a_1\\\vdots\\a_r\end{pmatrix}}{\sum_{i=1}^{r}a_iw_i}
    \end{align*}
  は$\KK$-線形写像である.
\end{example}


\begin{example}
  $(V,+,\act)$を$\KK$-線形空間とする.
  恒等写像$\id_V$は$\KK$-線形である.
\end{example}
\begin{lemma}
  $(V,+,\act)$, $(W,\pplus,\aact)$を$\KK$-線形空間とし,
  $\varphi\colon V\to W$は全単射であるとする.
  $\varphi$が$\KK$-線形なら,
  逆写像$\varphi^{-1}$は
  $(W,\pplus,\aact)$から
  $(V,+,\act)$への$\KK$-線形写像.
\end{lemma}
\begin{proof}\end{proof}

線形写像の性質をいくつか紹介する.
\begin{prop}
  $V$, $U$, $W$を$\KK$-線形空間とし,
  $\varphi\colon V\to U$,
  $\psi\colon U\to W$を$\KK$-線形写像とする.
  このとき, $\psi\circ\varphi\colon V\to W$は$\KK$-線形写像である.
\end{prop}
\begin{proof}\end{proof}

\begin{prop}
  $(V,+,\act,0_V)$, $(W,\pplus,\aact,0_W)$を$\KK$-線形空間とし,
  $\varphi\colon V\to W$を$\KK$-線形写像とする.
  このとき,
  \begin{enumerate}
    \item $\varphi(0_V)=0_W$.
    \item $\varphi(-x)=-\varphi(x)$.
  \end{enumerate}
\end{prop}
\begin{proof}\end{proof}


\section{同型写像}

\begin{definition}
  $V$, $W$を$\KK$-線形空間とする.
  以下の条件を満たす
  $\varphi\colon V\to W$を,
  $V$から$W$への($\KK$-線形空間としての)同型写像と呼ぶ:
  \begin{enumerate}
  \item $\varphi\colon V\to W$は$\KK$-線形写像.
  \item 以下の条件を満たす$\KK$-線形写像$\psi\colon W \to V$が存在する:
    \begin{enumerate}
      \item $\varphi\circ \psi=\id_W$.
      \item $\psi\circ \varphi=\id_V$.
    \end{enumerate}
  \end{enumerate}
\end{definition}
\begin{definition}
  $V$, $W$を$\KK$-線形空間とする.
  $V$から$W$への($\KK$-線形空間としての)同型写像が存在するとき,
  $V$と$W$は($\KK$-線形空間として)同型であるといい,  
  $V\simeq W$と書く.
\end{definition}

同型写像の例を挙げる:
\begin{example}
  $\KK$を体とする.
  $\KK$-線形写像$\varphi$を以下で定める:
  \begin{align*}
    &\shazo{\varphi}{\RR^{m\times n}}{\RR^{n\times m}}{A}{\transposed{A}}.
  \end{align*}
  このとき,
  $\psi$を
  \begin{align*}
    &\shazo{\psi}{\RR^{n\times m}}{\RR^{m\times n}}{A}{\transposed{A}}
  \end{align*}
  とすると,
  $\psi$は$\KK$-線形であり, $\varphi\circ \psi=\id_{\KK^{n\times m}}$, $\psi\circ\varphi=\id_{\KK^{m\times n}}$である.
  よって, $\varphi$は同型写像である.
  したがって, $\KK^{m\times n}\simeq\KK^{n\times m}$である.
\end{example}


\begin{example}
  $\RR$-線形写像$\varphi$を以下で定める:
  \begin{align*}
    &\shazo{\varphi}{\RR^2}{\CC}{\begin{pmatrix}x\\y\end{pmatrix}}{x+y\sqrt{-1}}.
  \end{align*}
  このとき,
  $\psi$を
  \begin{align*}
    &\shazo{\varphi}{\RR^2}{\CC}{\begin{pmatrix}x\\y\end{pmatrix}}{x+y\sqrt{-1}},\\
   &\shazo{\psi}{\CC}{\RR^2}{x+y\sqrt{-1}}{\begin{pmatrix}x\\y\end{pmatrix}}.
  \end{align*}
  とすると,
  $\RR$-線形であり,
  $\varphi\circ \psi=\id_\CC$,
  $\psi\circ\varphi=\id_{\RR^2}$である.
  よって, 同型写像であり,
  $\RR$-線形空間として$\RR^2\simeq\CC$である.
\end{example}

\begin{example}
  $V$を$\KK$-線形空間とする.
  このとき,
  $\id_V\colon V\to V$は同型写像であり
  $V\simeq V$.
\end{example}

\begin{example}
  $\KK$を体とする.
  $\KK$-線形空間$\KK^n$と$\KK^m$について考える.

  $m=n$のとき, $\KK^n=\KK^m$であるので, 同型である.

  $m\neq n$のとき, $\KK^n$と$\KK^m$は同型ではないことを示す.

  $m>n$とし,
  \begin{align*}
    \varphi&\colon \KK^n \to \KK^m\\
    \psi&\colon \KK^m \to \KK^n
  \end{align*}
  を線形写像とする.
  $\aaa_i=\varphi(\ee_i)$とし,
  $\aaa_1,\ldots,\aaa_n$を並べて得られる$(m,n)$行列を$A$とおく.
  $m>n$であるので, $\rank(A)<m$であるから,
  連立一次方程式$A\xx=\zzero_m$は$\xx\neq \zzero_n$以外の解を持つ.
  その解を
  \begin{align*}
    \ccc=\begin{pmatrix}c_1\\\vdots\\c_n\end{pmatrix}
  \end{align*}
  とおく.
  \begin{align*}
    A\ccc=(\aaa_1|\cdots|\aaa_n)\ccc=c_1\aaa_1+\cdots+c_n\aaa_n
  \end{align*}
  であることに注意すると,
  \begin{align*}
    \varphi(\ccc)&=\varphi(c_1\ee_1+\cdots+c_n\ee_n)\\
    &=c_1\varphi(\ee_1)+\cdots+c_n\varphi(\ee_n)\\
    &=c_1\aaa_1+\cdots+c_n\aaa_n\\
    &=A\ccc\\
    &=\zzero_m.
  \end{align*}
  よって,
  $\psi\circ\varphi(\ccc)=\psi(\zzero_m)=\zzero_n\neq \ccc$であり,
  $\psi\circ\varphi\neq \id_{\KK^n}$である.

  したがって,
  $m>n$のとき,
  線形写像$\varphi\colon \KK^n \to \KK^m$は,
  どんな線形写像$\psi\colon \KK^m\to \KK^n$に対しても,
  $\psi\circ \varphi \neq \id_{\KK^n}$となるので,
  $\varphi$は同型写像ではない.
  (また, 同様に,
  線形写像$\psi\colon \KK^m \to \KK^n$は,
  どんな線形写像$\varphi\colon \KK^n\to \KK^m$に対しても,
  $\psi\circ \varphi \neq \id_{\KK^n}$となるので,
  $\psi$は同型写像ではない.)
  どんな線形写像$\varphi\colon \KK^n \to \KK^m$も同型写像にはならないので,
  $\KK^n$と$\KK^m$は同型ではない.
\end{example}

\begin{example}
  $I={1,\ldots,m}$, $J={1,\ldots,n}$, $\Lambda=\Set{1,\ldots,mn}$とする.
  このとき,
  \begin{align*}
    &\shazo{\lambda}{I\times J}{\Lambda}{(i,j)}{i+(m-1)j}
  \end{align*}
  は全単射である.  $\lambda$の逆写像を$\kappa$とする.
  $\KK$を体とし,
  $\KK$線形写像$\varphi$を以下で定める:
  \begin{align*}
    &\shazo{\varphi}{\KK^{mn}}{\KK^{m\times n}}{\begin{pmatrix}a_1\\\vdots\\a_{mn}\end{pmatrix}}{(a_{\lambda(i,j)})_{i\in I, j\in J}}.
  \end{align*}
  $\psi$を
  \begin{align*}
    &\shazo{\psi}{\KK^{m\times n}}{\KK^{mn}}
    {(a_{i,j})_{i\in I, j\in J}}{\begin{pmatrix}a_{\kappa(1)}\\a_{\kappa(2)}\\\vdots\\a_{\kappa(mn)}\\\end{pmatrix}}
  \end{align*}
  とすると,
  $\KK$-線形であり,
  $\varphi\circ \psi=\id_{\KK^{m\times n}}$,
  $\psi\circ\varphi=\id_{\KK^{mn}}$である.
  よって, 同型写像であり,
  $\KK^{mn}\simeq \KK^{m\times n}$.
\end{example}


\begin{example}
  $V$を$\KK$-線形空間とする.
  このとき, $\id_{V}$は$\KK$-線形であり,
  $\id_{V}\circ\id_{V}=\id_{V}$であるので, 同型写像である.
  したがって, $V\simeq V$である.
\end{example}

\begin{example}
  $\varphi$を次の写像とする:
  \begin{align*}
    \shazo{\varphi}{\CC}{\CC}{z}{\overline{z}},
  \end{align*}
  このとき, $\varphi$は$\RR$-線形であり, $\varphi\circ\varphi=\id_{\CC}$である.
  $\varphi$は, $\CC$から$\CC$への$\RR$-線形空間としての同型写像である.
\end{example}


\begin{example}
  $\KK$を体とし, $I=\Set{1,\dots,n}$とする.
  $\varphi$を以下で定義する:
  \begin{align*}
    \shazo{\varphi}{\KK^I}{\KK^n}{f}{\begin{pmatrix}f(1)\\\vdots\\f(n)\end{pmatrix}}.
  \end{align*}
  $\varphi$は$\KK$-線形写像である.
  逆に,
  \begin{align*}
    a=
    \begin{pmatrix}
      a_1\\\vdots\\a_n
    \end{pmatrix}
  \end{align*}
  に対し,
  $I$から$\KK$への
  写像$f_a$を
  \begin{align*}
    \shazo{f_a}{I}{\KK}{i}{a_i}
  \end{align*}
  で定める.
  次の写像を考える:
  \begin{align*}
    \shazo{\psi}{\KK^n}{\KK^I}{a}{f_a}.
  \end{align*}
  つまり$\psi$以下で定義する.
  \begin{align*}
    \shazo{\psi}{\KK^n}{\KK^I}{a=
    \begin{pmatrix}
      a_1\\\vdots\\a_n
    \end{pmatrix}
  }{\left(\shazo{f_a}{I}{\KK}{i}{a_i}\right)}.
  \end{align*}
  このとき$\psi$も$\KK$-線形写像であり,
  $\varphi\circ\psi=\id_{\KK^n}$,
  $\psi\circ\varphi=\id_{\KK^I}$である.
  よって$\varphi$は同型写像であり,
  $\KK^I\simeq \KK^n$.
\end{example}

\begin{example}
  $\KK$を体とし, $I=\Set{1,\dots,m}$, $J=\Set{1,\ldots,n}$とする.
  $\varphi$を以下で定義する:
  \begin{align*}
    \shazo{\varphi}{\KK^{I\times J}}{\KK^{m\times n}}{f}{(f(i,j))_{i\in I,j\in J}}.
  \end{align*}
  $\varphi$は$\KK$-線形写像である.
  逆に,
  \begin{align*}
    A=
      (a_{i,j})_{i\in I,j\in J}
  \end{align*}
  に対し,
  $I\times J$から$\KK$への
  写像$f_a$を
  \begin{align*}
    \shazo{f_A}{I\times J}{\KK}{(i,j)}{a_{i,j}}
  \end{align*}
  で定め,
  次の写像を考える:
  \begin{align*}
    \shazo{\psi}{\KK^{m\times n}}{\KK^{I\times J}}{A}{f_A}.
  \end{align*}
  つまり$\psi$以下で定義する.
  \begin{align*}
    \shazo{\psi}{\KK^{m\times n}}{\KK^{I\times J}}
          {A=(a_{i,j})_{i\in I,j\in J}}{\left(\shazo{f_A}{I\times J}{\KK}{(i,j)}{a_{i,j}}\right)}.
  \end{align*}
  このとき$\psi$も$\KK$-線形写像であり,
  $\varphi\circ\psi=\id_{\KK^{m\times n}}$,
  $\psi\circ\varphi=\id_{\KK^{I\times J}}$である.
  よって$\varphi$は同型写像であり,
  $\KK^{I\times J}\simeq \KK^{m\times n}$.
\end{example}

\begin{example}
  $\KK$を体とし,
  $\NN$から$\KK$への写像を集めた集合を$V$,
  $\NN$で添字付された数列を集めた集合を$W$とする.
  どちらも$\KK$-線形空間であった.
  $\varphi$を以下で定義する:
  \begin{align*}
    \shazo{\varphi}{V}{W}{f}{(f(i))_{i\in \NN}}.
  \end{align*}
  $\varphi$は$\KK$-線形写像である.
  逆に,
  \begin{align*}
    a=
      (a_{i})_{i\in \NN}
  \end{align*}
  に対し,
  $\NN$から$\KK$への
  写像$f_a$を
  \begin{align*}
    \shazo{f_a}{\NN}{\KK}{i}{a_{i}}
  \end{align*}
  で定め,
  次の写像を考える:
  \begin{align*}
    \shazo{\psi}{W}{V}{a}{f_a}.
  \end{align*}
  つまり$\psi$以下で定義する.
  \begin{align*}
    \shazo{\psi}{W}{V}{a=(a_{i})_{i\in \NN}}{\left(\shazo{f_a}{\NN}{\KK}{i}{a_{i}}\right)}.
  \end{align*}
  このとき$\psi$も$\KK$-線形写像であり,
  $\varphi\circ\psi=\id_{W}$,
  $\psi\circ\varphi=\id_{V}$である.
  よって$\varphi$は同型写像であり,
  $V\simeq W$.
\end{example}


\begin{remark}
  $V$と$W$を$\KK$-線形空間とする.
  $\varphi\colon V\to W$が$\KK$-線形写像であるとき,
  $V$において和やスカラー倍に関してなりたつことは,
  $\varphi$を通して, $W$における命題に翻訳できる.
  $\varphi\colon V\to W$が同型写像であるなら,
  $\KK$-線形写像$\psi\colon W\to V$で
  $\varphi\circ \psi=\id_W$と
  $\psi\circ \varphi=\id_V$を満たすものが存在する.
  $W$において和やスカラー倍に関してなりたつことは,
  $\psi$を通して, $V$における命題に翻訳できる.
  $\varphi$と$\psi$を使い, 双方を自由に行き来できるので,
  $V$と$W$は$\KK$-線形空間として同一視できる.
\end{remark}

\begin{prop}
  $V$, $W$, $U$を$\KK$-線形空間とする.
  このとき, 以下が成り立つ:
  \begin{enumerate}
  \item $V\simeq W$.
  \item $V\simeq W \implies W\simeq V$.
  \item $V\simeq U, U\simeq W \implies V\simeq W$.
  \end{enumerate}
\end{prop}
\begin{proof}\end{proof}

\begin{prop}
  $V$, $W$を$\KK$-線形空間とし, $\varphi\colon V\to W$を$\KK$-線形写像とする.
  このとき, 以下は同値:
  \begin{enumerate}
  \item $\varphi$は同型写像.
  \item $\varphi$は全単射.
  \end{enumerate}
\end{prop}
\begin{proof}\end{proof}

\sectionX{章末問題}
\begin{quiz}
  %\solvelater{quiz:1:1}
  次が通常の和とスカラー倍で$\KK$線形空間となることを示せ:
  \begin{align*}
    \Set{\begin{pmatrix}x\\x\end{pmatrix}|x\in\KK}
  \end{align*}
\end{quiz}

\begin{quiz}
  %\solvelater{quiz:1:1}
  次が通常の和とスカラー倍で$\KK$線形空間とはならないことを示せ:
  \begin{align*}
    \Set{\begin{pmatrix}x\\0\end{pmatrix}|x\in\KK}
    \cup \Set{\begin{pmatrix}0\\x\end{pmatrix}|x\in\KK}
  \end{align*}
\end{quiz}

\chapter{部分空間}
\section{部分空間の定義}
\begin{definition}
  $(V,+,\act,0_V)$を$\KK$-線形空間とする.
  以下の条件を満たすとき,
  $W$を$V$の部分空間 (部分$\KK$-線形空間)と呼ぶ:
  \begin{enumerate}
  \item $W\subset V$.
  \item $(W,+,\act,0_V)$が$\KK$-線形空間.
  \end{enumerate}
\end{definition}
\begin{remark}
  $(V,+,\act,0_V)$を$\KK$-線形空間とし, $W\subset V$とする.
このとき, $v,w,u\in V$に対して,
\begin{align*}
  v+w&=w+v\\
  (v+w)+u&=v+(w+u)\\
  0_V+w&=w\\
  w+(-1)\act w=0_V
\end{align*}
が成り立っているので,
$v,w,u\in W\subset V$に対しても,
\begin{align*}
  v+w&=w+v\\
  (v+w)+u&=v+(w+u)\\
  0_V+w&=w\\
  w+(-1)\act w=0_V
\end{align*}
は成り立つ.
同様の理由で,
$a,b\in \KK$, $v,w\in U$に対して,
\begin{align*}
  1\act v&=v\\
  (ab)\act v&=a\act(b\act v)\\
  (a+b)\act v&=a\act v+b\act v\\
  a\act(v+w)=a\act v+a\act w
\end{align*}
が成り立つ.
$(W,+,\act,0_V)$が$\KK$-線形空間であるための条件で非自明なのは,
これらではなく, $+$などが$U$上の演算であるかということである.
つまり, 以下の$3$条件が重要である.
\begin{enumerate}
  \item $v,w\in U \implies v+w\in U$.
  \item $a\in\KK$, $v\in U \implies a\act v\in U$.
  \item $0_V\in U$.
\end{enumerate}
\end{remark}
\begin{lemma}
  $(V,+,\act,0_V)$を$\KK$-線形空間とし, $W\subset V$とする.
  このとき以下は同値:
  \begin{enumerate}
  \item $U$が$V$の部分空間.
  \item 以下の$3$条件を満たす:
    \begin{enumerate}
  \item $v,w\in U \implies v+w\in U$.
  \item $a\in\KK$, $v\in U \implies a\act v\in U$.
  \item $0_V\in U$.
    \end{enumerate}
  \item 以下の$3$条件を満たす:
    \begin{enumerate}
  \item $v,w\in U \implies v+w\in U$.
  \item $a\in\KK$, $v\in U \implies a\act v\in U$.
  \item $U\neq \emptyset$.
    \end{enumerate}
  \end{enumerate}
\end{lemma}

\section{部分空間の例}
\subsection{部分空間の具体例}
\begin{example}
  $(V,+,\act,0_V)$を$\KK$-線形空間とする.
  $V$は$V$の部分空間である.
  $\Set{0_V}$は$V$の部分空間である.
  この2つを$V$の自明な部分空間と呼ぶ.
\end{example}

\begin{example}
  $a\neq \KK^2\setminus\Set{\zzero_2}$とする.
  このとき, $\Set{ta|t\in \KK}$は原点と$a$を通る直線である.
  これは, $\KK^2$の非自明な部分空間である.
\end{example}
\begin{proof}\end{proof}


\begin{example}
  \begin{align*}
    V=\Set{\begin{pmatrix}a_1\\\vdots\\a_n\\0\end{pmatrix}|a_1,\ldots,a_n\in\KK}
  \end{align*}
  は$\KK^{n+1}$の非自明な部分空間である.
\end{example}
\begin{proof}\end{proof}

\begin{example}
  \label{subsp:example:fiber}
  $A\in \KK^{m\times n}$とする.
  つまり$A$を成分が$\KK$の元である$(m,n)$-行列とする.
  \begin{align*}
    \KKK=\Set{x\in \KK^n|Ax=\zzero_m}
  \end{align*}
  とおく. $\KKK$は$\KK^n$の部分空間である.
  (\Cref{subsp:nonexample:fiber}も見よ.)
\end{example}
\begin{proof}\end{proof}

\begin{example}
  \label{subsp:example:cc}
  $\CC$は$\RR$-線形空間であった.
  $\RR$は, $\CC$の部分$\RR$-線形空間である.
  (\Cref{subsp:nonexample:cc}も見よ.)
\end{example}
\begin{proof}\end{proof}


\begin{example}
  数列をすべて集めた集合$\CC^{\NN}$は$\CC$は$\CC$線形空間であった.
  $p>0$に対し,
  \begin{align*}
    \ell^p=\Set{(a_i)_{i\in\NN}|\sum_i |a_i|^p < \infty}
  \end{align*}
  とおくと, $\ell^p$は$\CC^{\NN}$の部分空間.
  \begin{align*}
    \ell^\infty=\Set{(a_i)_{i\in\NN}|\sup \Set{\left|a_i\right||i\in \NN} < \infty}
  \end{align*}
  とおくと, $\ell^\infty$は$\CC^{\NN}$の部分空間.
  \begin{align*}
    c&=\Set{(a_i)_{i\in\NN} | \lim_{i\to\infty} a_i \in\RR}\\
    c_0&=\Set{(a_i)_{i\in\NN} | \lim_{i\to\infty} a_i =0}\\
    c_{00}&=\Set{(a_i)_{i\in\NN} | \#\Set{i| a_i \neq 0} < 0}
  \end{align*}
  とおくと, $c$, $c_0$, $c_{00}$は$\CC^{\NN}$の部分空間.
  %$c_0$は$c$の部分空間でもある.
\end{example}
\begin{proof}\end{proof}

\begin{example}
  $V$を$\KK$-線形空間とする.
  $V$から$\KK$への写像をすべて集めた集合
  $\KK^V$は$\KK$線形空間であった.
  \begin{align*}
    V^\ast =\Set{f\colon V\to \KK\text{: 線形写像} }
  \end{align*}
  とおく. これは$\KK^V$の部分空間.
  $V^\ast$を$\KK$-線形空間$V$の双対空間と呼ぶ.
\end{example}
\begin{proof}\end{proof}

\begin{example}
  $V$, $W$を$\KK$-線形空間とする.
  $V$から$W$への写像をすべて集めた集合
  $W^V$は$\KK$線形空間であった.
  \begin{align*}
    \Hom_\KK(V,W) =\Set{f\colon V\to W\text{: $\KK$-線形写像} }
  \end{align*}
  とおく. これは$W^V$の部分空間.
\end{example}
\begin{proof}\end{proof}


\subsection{部分空間から得られる部分空間}

\begin{example}
  \begin{align*}
    V&=\Set{\begin{pmatrix}a\\b\\0\end{pmatrix}|a,b\in\KK}\\
    W&=\Set{\begin{pmatrix}0\\a\\b\end{pmatrix}|a,b\in\KK}
  \end{align*}
  とする.
  このとき, $V$も$W$も$\KK^3$の部分空間である.
  \begin{align*}
    V\cap W&=\Set{\begin{pmatrix}0\\a\\0\end{pmatrix}|a\in\KK}\\
  \end{align*}
  となっており, $V\cap W$も$\KK^3$の部分空間である.
\end{example}
\begin{proof}\end{proof}

\begin{example}
  $U$を$\KK$-線形空間とする.
  $V, W$を$U$の部分空間とする.
  このとき, $V\cap W$は$U$の部分空間.
\end{example}
\begin{proof}\end{proof}


\begin{example}
  $U$を$\KK$-線形空間とする.
  $I$を集合とし,
  $i\in I$に対し, $V_i$を$U$の部分空間とする.
  このとき, $\bigcap_{i\in I}V_i$は$U$の部分空間である.
\end{example}
\begin{proof}\end{proof}


\begin{example}
  \label{subspace:nonexample:cup}
  \begin{align*}
    V&=\Set{\begin{pmatrix}a\\0\end{pmatrix}|a\in\KK}\\
    W&=\Set{\begin{pmatrix}0\\a\end{pmatrix}|a\in\KK}
  \end{align*}
  とする.
  このとき, $V$も$W$も$\KK^2$の部分空間である.
  \begin{align*}
    \begin{pmatrix}1\\0\end{pmatrix},
    \begin{pmatrix}0\\1\end{pmatrix}\in V\cup W
  \end{align*}
  であるが,
  \begin{align*}
    \begin{pmatrix}1\\0\end{pmatrix}+
    \begin{pmatrix}0\\1\end{pmatrix}=\begin{pmatrix}1\\1\end{pmatrix}\not\in V\cup W
  \end{align*}
  となっており, $V\cup W$は$U$の部分空間ではない.
\end{example}
\begin{proof}\end{proof}

\begin{example}
  $U$を$\KK$-線形空間とする.
  $V, W$を$U$の部分空間とする.
  \begin{enumerate}
    \item $V\subset W$なら$V\cup W=W$であるので, $V\cup W$は$U$の部分空間.
    \item $W\subset V$なら$V\cup W=V$であるので, $V\cup W$は$U$の部分空間.
    \item $V$と$W$に包含関係がないとき, $V\cup W$は$U$の部分空間ではない. 
  \end{enumerate}
\end{example}
\begin{proof}
  $V$と$W$に包含関係が無いとする.
  $v\in V\setminus W$, $w\in W\setminus V$
  とし, $u=v+w$とおく.
  $u\in V$とすると, $v\in V$であるから, $u-v\in V$となるが,
  $u-v=w\not\in V$に矛盾する.
  $u\in W$とすると, $w\in W$であるから, $u-w\in W$となるが,
  $u-w=v\not\in W$に矛盾する.
  よって, $u\not\in V\cup W$となるので, $V\cup W$は部分空間ではない.
\end{proof}



\begin{example}
  \begin{align*}
    V&=\Set{\begin{pmatrix}a\\0\\0\end{pmatrix}|a\in\KK}\\
    W&=\Set{\begin{pmatrix}0\\a\\0\end{pmatrix}|a\in\KK}
  \end{align*}
  とする.
  このとき, $V$も$W$も$\KK^3$の部分空間である.
  \begin{align*}
    U=\Set{v+w|v\in V, w\in W}
  \end{align*}
  とすると,
  \begin{align*}
    U&=\Set{\begin{pmatrix}a\\b\\0\end{pmatrix}|a,b\in\KK}\\
  \end{align*}
  となっており, $U$も$\KK^3$の部分空間である.
\end{example}
\begin{proof}\end{proof}

\begin{example}
  $(U,+,\act,0_V)$を$\KK$-線形空間とする.
  $V, W$を$U$の部分空間とする.
  このとき,
  \begin{align*}
    V+W=\Set{v+w|v\in V,w\in W}
  \end{align*}
  とおく.
  このとき, $V+W$は$U$の部分空間.
  $V+W$を$V$と$W$の和と呼ぶことがある.
\end{example}
\begin{proof}\end{proof}
\begin{prop}
  $(U,+,\act,0_V)$を$\KK$-線形空間とし,
  $V, W$を$U$の部分空間とする.
  \begin{align*}
    \SSS=\Set{U'|\text{$U'$は$U$の部分空間,} V\cup W \subset U'}
  \end{align*}
  とおく.  
  \begin{align*}
    U_0 = \bigcap_{U'\in\SSS} U'
  \end{align*}
  とする.  また, $\SSS$の中で包含関係で極小なものを$U_1$とする.
  このとき,
  \begin{align*}
    U_0=U_1=V+W.
  \end{align*}
\end{prop}
\begin{proof}
\end{proof}
\begin{remark}
  $V, W$を$U$の部分空間とするとき,
  $V+W$は$V$と$W$の両方を含む最小の部分空間である.
  また$V\cap W$は$V$と$W$の両方に含まれる最大の部分空間である.
\end{remark}


\begin{definition}
  $U$を$\KK$-線形空間とし,
  $V$, $W$を$U$の部分空間とする.
  次の条件を満たすとき,
  $U$は$V$と$W$の(内部)直和に分解できるという.
  \begin{enumerate}
  \item $U=V+W$.
  \item $V\cap W=\Set{\zzero}$.
  \end{enumerate}
  $U$が$V$と$W$の(内部)直和に分解できることを,
  $U=V\oplus W$と書き表す.
\end{definition}
\begin{example}
  $U=\KK^3$とし,
  \begin{align*}
    V&=\Set{\begin{pmatrix}x\\y\\0\end{pmatrix}|x,y\in\KK}&
    W&=\Set{\begin{pmatrix}0\\0\\z\end{pmatrix}|z\in\KK}&
    W'&=\Set{\begin{pmatrix}0\\y\\z\end{pmatrix}|y,z\in\KK}
  \end{align*}
  とする.
  $U=V+W$であり, $U=V+W'$でもある.
  $V\cap W=\Set{\zzero_3}$であるので,
  $U$は$V$と$W$の(内部)直和に分解できる.
  つまり, $U=V\oplus W$である.
  一方$V\cap W'\neq \Set{\zzero_3}$であるので,
  $V$と$W'$には(内部)直和に分解できない.
\end{example}

\begin{prop}
  $U=V\oplus W$であるとき,
  $v,v'\in V$,
  $w,w'\in W$に対し, 以下は同値:
  \begin{enumerate}
  \item $v+w=v'+w'$.
  \item $v=v'$, $w=w'$.
  \end{enumerate}
\end{prop}
\begin{proof}
  \paragraph{$v+w=v'+w'\implies v=v', w=w'$}
  $v+w=v'+w'$であるので,
  $v-v'=-w+w'$.
  左辺は$V$の元, 右辺は$W$の元であるから,
  これらは, $V\cap W$の元.
  よって, $\zzero$である.
  $v-v'=\zzero$であるので, $v=v'$.
  $w-w'=\zzero$であるので, $w=w'$.
  \paragraph{$v=v', w=w'\implies v+w=v'+w'$}
  明らか.
\end{proof}


$U$が$U=V_1\oplus W_1$と内部直和に分解され,
$W_1$が$V_2\oplus W_2$と内部直和に分解され,
$W_2$が$V_3\oplus W_3$と内部直和に分解され,
ということが繰り返された状況を考える.
つまり,
$U=V_1\oplus (V_2\oplus \cdots \oplus(V_{l-1}\oplus V_l))$
と分解されていることを考える.
\begin{definition}
$U=V_1\oplus (V_2\oplus \cdots \oplus(V_{l-1}\oplus V_l))$
と内部直和に分解されているとき,
$U$は$U=V_1\oplus V_2\oplus \cdots \oplus V_l$
と(内部)直和に分解されると言う.
\end{definition}
\begin{prop}
  $U$を$\KK$-線形空間とし, $V_i\subset U$を$U$の部分空間とし,
  $U=V_1+\cdots+ V_l$を満たすとする.
  このとき, 以下は同値である:
  \begin{enumerate}
  \item $U=V_1\oplus \cdots \oplus V_l$と内部直和に分解される.
  \item 全ての$i$に対して,
    \begin{align*}
      V_i \cap (V_1+\cdots+ V_{i-1}+V_{i+1}+\cdots+ V_{l}).
    \end{align*}
  \end{enumerate}
\end{prop}

\subsection{線形写像から得られる部分空間}

\begin{definition}
  $(V,+,\act,0_V)$,
  $(W,+,\act,0_W)$を
  $\KK$-線形写像とし,
  $\varphi\colon V\to W$を線形写像とする.
  このとき,
  \begin{align*}
    \Ker(\varphi)&=\Set{x\in V|\varphi(x)=0_V  },\\
    \Img(\varphi)&=\Set{\varphi(x)|x\in V}
  \end{align*}
  とおく. $\Ker(\varphi)$を$\varphi$のKernel,
  $\Img(\varphi)$を$\varphi$のImageと呼ぶ.
\end{definition}
\begin{prop}
  $(V,+,\act,0_V)$,
  $(W,+,\act,0_W)$を
  $\KK$-線形写像とし,
  $\varphi\colon V\to W$を線形写像とする.
このとき, 以下が成り立つ:
\begin{enumerate}
  \item $\Ker(\varphi)$は$V$の部分空間.
  \item $\Img(\varphi)$は$W$の部分空間.
\end{enumerate}
\end{prop}
\begin{proof}\end{proof}

\begin{example}
  $A\in \KK^{m\times n}$とし,
  \begin{align*}
    \shazo{\varphi}{\KK^{n}}{\KK^{m}}
    {x}{Ax}
  \end{align*}
  とすると, $\varphi$
  は線形写像.
  \begin{align*}
    \Ker(\varphi)=\Set{x\in\KK^n|Ax=\zzero_m}
  \end{align*}
  であり, これは斉次連立一次方程式の解空間である.
  また, $A=(\aaa_1|\cdots|\aaa_n)$と列ベクトル表示すると
  \begin{align*}
    \Img(\varphi)=\Set{x_1\aaa_1+\cdots+x_n\aaa_n|x_1,\ldots,x_n\in \KK}
  \end{align*}
  である. これは, $\Set{\aaa_1,\ldots,\aaa_n}$を含む最小の部分空間である.
\end{example}
\begin{proof}\end{proof}

\begin{example}
$\KK$を体とし,  
  \begin{align*}
    \shazo{\varphi}{\KK^{n\times n}}{\KK}
    {A}{\tr A}
  \end{align*}
  とすると, $\varphi$
  は線形写像.
  $\Ker(\varphi)$は, $I=\Set{1,\dots,n}$とすると,
  \begin{align*}
    \Ker(\varphi)=
    \Set{(a_{i,j})_{i\in I,j\in I} \in\KK^{n\times n}|\sum_{i\in I}a_{i,i}=0}
  \end{align*}
  である. 特に, $n=2$のときは,
  \begin{align*}
    \Ker(\varphi)=
    \Set{\begin{pmatrix}a&b\\c&-a\end{pmatrix}|a,b,c}
  \end{align*}
  である.
\end{example}

\begin{prop}
  \label{subspace:prop:img:inverseimage}
  $(V,+,\act,0_V)$,
  $(W,+,\act,0_W)$を
  $\KK$-線形写像とし,
  $\varphi\colon V\to W$を線形写像とする.
  \begin{enumerate}
  \item
    $V$の部分空間$V'$に対し,
    \begin{align*}
      \Set{\varphi(x)|x\in V'}
    \end{align*}
    は, $W$の部分空間である.
  \item
    $W$の部分空間$W'$に対し,
    \begin{align*}
      \Set{x\in V|\varphi(x)\in W'}
    \end{align*}
    は, $V$の部分空間である.
  \end{enumerate}
\end{prop}
\begin{proof}\end{proof}
\begin{remark}
  \Cref{subspace:prop:img:inverseimage}の
  $W'$として自明な部分空間$\Set{0_W}$を考えたものが,
  $\Ker(\varphi)$である.
  \Cref{subspace:prop:img:inverseimage}の
  $V'$として自明な部分空間$V$を考えたものが,
  $\Ker(\varphi)$である.
\end{remark}

\begin{prop}
  $(V,+,\act,0_V)$,
  $(W,+,\act,0_W)$を
  $\KK$-線形写像とし,
  $\varphi\colon V\to W$を線形写像とする.
  次は同値:
  \begin{enumerate}
  \item $\varphi$は単射.
  \item $\Ker(\varphi)=\Set{0_V}$
  \end{enumerate}
\end{prop}
\begin{proof}\end{proof}

\begin{prop}
  $(V,+,\act,0_V)$,
  $(W,+,\act,0_W)$を
  $\KK$-線形写像とし,
  $\varphi\colon V\to W$を線形写像とする.
  次は同値:
  \begin{enumerate}
  \item $\varphi$は全射.
  \item $\Img(\varphi)=W$
  \end{enumerate}
\end{prop}
\begin{proof}\end{proof}

\begin{prop}
  $(V,+,\act,0_V)$,
  $(W,+,\act,0_W)$を
  $\KK$-線形写像とし,
  $\varphi\colon V\to W$を線形写像とする.
  次は同値:
  \begin{enumerate}
  \item $\varphi$は$\underline{0_W}$.
  \item $\Ker(\varphi)=V$
  \end{enumerate}
\end{prop}
\begin{proof}\end{proof}

\begin{prop}
  $(V,+,\act,0_V)$,
  $(W,+,\act,0_W)$を
  $\KK$-線形写像とし,
  $\varphi\colon V\to W$を線形写像とする.
  次は同値:
  \begin{enumerate}
  \item $\varphi$は$\underline{0_W}$.
  \item $\Img(\varphi)=0_W$.
  \end{enumerate}
\end{prop}
\begin{proof}\end{proof}

\begin{prop}
  $V$を$U$の部分空間とする.
  このとき,
  \begin{align*}
    \shazo{\nu}{V}{U}
    {v}{v}
  \end{align*}
  は, 単射な線形写像.
\end{prop}


\section{部分空間ではない例}

\begin{example}
  \Cref{subspace:nonexample:cup}では,
  \begin{align*}
    V&=\Set{\begin{pmatrix}a\\0\end{pmatrix}|a\in\KK}\\
    W&=\Set{\begin{pmatrix}0\\a\end{pmatrix}|a\in\KK}
  \end{align*}
  とすると, $V\cup W$は$U$の部分空間ではないことを見た.
  この場合, 和が閉じておらず, $V\cup W$は$\KK$-線形空間ではないので,
  部分空間ではない.
\end{example}

\begin{example}
  \label{subsp:nonexample:fiber}
  $A\in \KK^{m\times n}$とする.
  つまり$A$を成分が$\KK$の元である$(m,n)$-行列とする.
  $b\in \KK^m$とし,
  \begin{align*}
    \FFF_b=\Set{x\in \KK^n|Ax=b}
  \end{align*}
  とおく.
  $b\neq \zzero_m$なら,
  $\FFF_b$は$\KK^n$の部分空間ではない.
  $b= \zzero_m$なら,
  \Cref{subsp:example:fiber}で挙げたものである.
\end{example}
\begin{proof}\end{proof}



\begin{example}
  \label{subsp:nonexample:cc}
  $\CC$は$\CC$-線形空間である.
  $\RR$は$\RR$-線形空間である.
  どちらも同じ演算で線形空間であり
  $\RR\subset \CC$ではあるが,
  `$\KK$'が異なるので,
  $\RR$-線形空間$\RR$は$\CC$-線形空間の部分空間であるとは言わない.

  \Cref{subsp:example:cc}も見よ.
\end{example}
\begin{proof}\end{proof}

\begin{example}
  $\RR_{>0}=\Set{x\in\RR|x>0}$について考える.
  $\pplus$と$\aact$を次で定める:
  $x,y\in\RR_{>0}$に対し,
  \begin{align*}
    x\pplus y =x\cdot y.
  \end{align*}
  $a\in\RR$, $x\in\RR_{>0}$に対し,
  \begin{align*}
    a\aact x=x^a.
  \end{align*}
  このとき, $(\RR_{>0},\pplus,\aact,1)$は, $\RR$線形空間である.
  また, $\RR$は通常の和$+$と積$\cdot$で$\RR$線形空間である.
  $\RR_{>0}\subset \RR$であり, $\RR_{>0}$, $\RR$はどちらも, $\RR$-線形空間であるが, 演算が異なる.
  つまり, $\RR_{>0}$の演算は$\RR$の演算をそのまま流用したものではないので,
  $\RR_{>0}$は$\RR$の部分空間ではない.
\end{example}
\begin{proof}\end{proof}

\sectionX{章末問題}
\begin{quiz}
  %\solvelater{quiz:1:1}
\end{quiz}


\chapter{基底}
\section{数ベクトル空間と標準基底}
$\KK$を体とする.
このとき$\KK^n$は$\KK$-線形空間であり,
数ベクトル空間と呼んだ.
第$i$成分のみ$1$で他は$0$である$\KK^n$の元
\begin{align*}
  \begin{pmatrix}0\\\vdots\\0\\1\\0\\\vdots\\0\end{pmatrix}
\end{align*}
を$\ee_i$で表し,
第$i$基本ベクトルと呼ぶ.
これらの組 $(\ee_1,\ee_2,\ldots,\ee_n)$を
$\KK^n$の標準基底と呼ぶ.
次のことが定義からわかる:
\begin{enumerate}
\item
    \begin{align*}
      \aaa=\begin{pmatrix}a_1\\\vdots\\a_n\end{pmatrix}\in\KK^n
    \end{align*}
    に対し, $\aaa=\sum_{i=1}^na_i\ee_i$.
  \item
    $\sum_{i=1}^na_i\ee_i=\zzero$ならば, $a_1=\cdots=a_n=0$.
\end{enumerate}
\section{有限次元線形空間と基底}
\subsection{定義}


\begin{definition}
  $(V,+,\act,\zzero)$を$\KK$線形空間とし,
  $w_1,\ldots,w_r\in V$とする.
  次の条件を満たすとき,
  組$(w_1,\ldots,w_r)$が$\KK$上一次独立であるという:
  \begin{enumerate}
  \item $\sum_{i=1}^{r} c_i\act w_i=\zzero \implies c_1=\cdots=c_r=0$.
  \end{enumerate}
  $(w_1,\ldots,w_r)$が$\KK$上一次独立でないとき,
  $(w_1,\ldots,w_r)$が$\KK$上一次従属であるという.
\end{definition}
\begin{prop}
  $(V,+,.,\zzero)$を$\KK$線形空間とし,
  $w_1,\ldots,w_r\in V$とする.
  このとき以下は同値:
  \begin{enumerate}
  \item $(w_1,\ldots,w_r)$は$\KK$上一次独立.
  \item 線形写像
    \begin{align*}
      \shazo{\varphi}{\KK^r}{V}
      {\begin{pmatrix}a_1\\\vdots\\a_r\end{pmatrix}}{\sum_{i=1}^{r}a_i\act w_i}
    \end{align*}
    が単射.
  \end{enumerate}
\end{prop}

\begin{prop}
  $(w_1,\ldots,w_r)$を$V$の基底とする.
  $v\in V$とするとき,
  $v$は$w_1,\ldots,w_r$の線型結合として一意に書き表せる.
  つまり,
 (双対基底でつかう)  
\end{prop}

\begin{definition}
  $(V,+,\act,\zzero)$を$\KK$線形空間とし,
  $w_1,\ldots,w_r\in V$とする.
  次の条件を満たすとき,
  組$(w_1,\ldots,w_r)$は$V$の生成系であるという.
  \begin{enumerate}
  \item
    $v\in V$とする.
    このとき,
    $\sum_{i=1}^{r} c_i\act w_i=v$
    を満たす$c_1,\ldots,c_r\in\KK$ が存在する.
  \end{enumerate}
\end{definition}
\begin{prop}
  $(V,+,.,\zzero)$を$\KK$線形空間とし,
  $w_1,\ldots,w_r\in V$とする.
  このとき以下は同値:
  \begin{enumerate}
  \item $(w_1,\ldots,w_r)$は$\KK$の生成系である.
  \item 線形写像
    \begin{align*}
      \shazo{\varphi}{\KK^r}{V}
      {\begin{pmatrix}a_1\\\vdots\\a_r\end{pmatrix}}{\sum_{i=1}^{r}a_i\act w_i}
    \end{align*}
    が全射.
  \end{enumerate}
\end{prop}

\begin{definition}
  $(V,+,\act,\zzero)$を$\KK$線形空間とし,
  $w_1,\ldots,w_r\in V$とする.
  線形写像
  \begin{align*}
    \shazo{\varphi}{\KK^r}{V}
          {\begin{pmatrix}a_1\\\vdots\\a_r\end{pmatrix}}{\sum_{i=1}^{r}a_i\act w_i}
  \end{align*}
  の像$\Img(\varphi)$を,
  $(w_1,\ldots,w_r)$で生成される$V$の部分空間と呼び,
  $\Braket{w_1,\ldots,w_r}_{\KK}$
  で表す.  
\end{definition}


\begin{definition}
  $(V,+,\act,\zzero)$を$\KK$線形空間とし,
  $w_1,\ldots,w_r\in V$とする.
  次の条件を満たすとき,
  組$(w_1,\ldots,w_r)$は$V$の基底であるという.
  \begin{enumerate}
  \item $(w_1,\ldots,w_r)$は一次独立.
  \item $(w_1,\ldots,w_r)$は$V$の生成系.
  \end{enumerate}
\end{definition}
\begin{prop}
  $(V,+,\act,\zzero)$を$\KK$線形空間とし,
  $w_1,\ldots,w_r\in V$とする.
  このとき以下は同値:
  \begin{enumerate}
  \item $(w_1,\ldots,w_r)$は$V$の基底である.
  \item 線形写像
    \begin{align*}
      \shazo{\varphi}{\KK^r}{V}
      {\begin{pmatrix}a_1\\\vdots\\a_r\end{pmatrix}}{\sum_{i=1}^{r}a_i\act w_i}
    \end{align*}
    が同型写像.
  \end{enumerate}
\end{prop}

\begin{lemma}
  $(V,+,\act,\zzero)$を$\KK$線形空間とし,
  $(w_1,\ldots,w_r)$も
  $(v_1,\ldots,v_l)$も
  は$V$の基底であるとする.
  このとき, $r=l$.
\end{lemma}
\begin{proof}
  次は同値:
  \begin{enumerate}
  \item $\KK^n\simeq \KK^m$.
  \item $n=m$.
  \end{enumerate}
  したがって,
  $\KK^r \simeq V\simeq \KK^l$であるこから,
  $r=l$.
\end{proof}

\begin{definition}
  $V\simeq \KK^n$であるとき,
  $V$は有限次元線形空間であるという.
  また$n$を$V$の次元と呼び,
  $\dim_\KK(V)$で表す.
\end{definition}
\begin{lemma}
  $V$を$\KK$線形空間とし, $n>0$とする.
  次は同値である:
  \begin{enumerate}
  \item $\dim_\KK(V)=n$
  \item $(v_1,\ldots,v_n)$が$V$の基底となるような$v_1,\ldots,v_n\in V$が取れる.
  \end{enumerate}
\end{lemma}

\begin{remark}
BasisとBasis elementの違い.
\end{remark}

\subsection{例}
\begin{example}
  $\KK^n$の標準基底$(\ee_1,\ldots,\ee_n)$は,
  $\KK^n$の基底である.
\end{example}

\begin{example}
  $v_1,\ldots,v_n\in \KK^m$とする.
  縦ベクトル$v_1,\ldots,v_n$を並べて得られる行列を$A$,
  つまり
  \begin{align*}
    A=
    \begin{pmatrix}
      v_1|\cdots|v_n
    \end{pmatrix}
  \end{align*}
  とおく.
  また,
  \begin{align*}
    \shazo{\varphi}{\KK^r}{V}
          {\begin{pmatrix}a_1\\\vdots\\a_r\end{pmatrix}}{\sum_{i=1}^{r}a_i\act w_i}
  \end{align*}
  とする.  
  このとき,
  \begin{enumerate}
  \item 次は同値:
    \begin{enumerate}
      \item $(v_1,\ldots,v_n)$は$V$の生成系.
      \item $\varphi$が全射.
      \item $\rank(A)=m$
    \end{enumerate}
  \item 次は同値:
    \begin{enumerate}
      \item $(v_1,\ldots,v_n)$は$\KK$上一次独立.
      \item $\varphi$が単射.
      \item $\rank(A)=n$
    \end{enumerate}
  \item 次は同値:
    \begin{enumerate}
      \item $(v_1,\ldots,v_n)$は$V$の基底.
      \item $\varphi$が全単射.
      \item $\rank(A)=m=n$.
      \item $A$は正則.
    \end{enumerate}
  \end{enumerate}
\end{example}


\begin{example}
  $(k,l)$成分は$1$でそれ以外の成分は$0$である
  $\KK^{m\times n}$の元を$B_{k,l}$で表す.
  $B_{k,l}$のことを行列単位\footnote{単位行列と用語が紛らわしいが混同しないこと}と呼ぶこともある.
  このとき,
  $B_{k,l}$を全て集めた
  $(B_{1,1},\ldots,B_{1,n},B_{2,1},\ldots,B_{2,n},\ldots,B_{m,1},\ldots,B_{1,n})$は$\KK^{m\times n}$の基底である.
\end{example}

\begin{example}
  $\CC$は$\RR$線形空間であった.
  $(1,\sqrt{-1})$は$\CC$の基底である.
  したがって$\dim_\RR(\CC) = 2$である.
  また,
  $\CC$は$\CC$線形空間でもあった.
  $(1)$は$\CC$の基底である.
  したがって$\dim_\CC(\CC) = 1$である.
\end{example}


\begin{example}
双対基底.  $\Hom$の基底.
\end{example}


\begin{example}
  $V$を1次元$\KK$-線形空間であるとする.
  $v\in V\setminus \Set{\zzero}$とすると,
  $(v)$は$V$の基底.
\end{example}


\subsection{性質}
\begin{prop}
  $V$を$\KK$線形空間とする.
  $(\zzero)$は一次従属.
\end{prop}
  
\begin{prop}
  $\KK$を体とする.
  $V$を$\KK$ベクトル空間とする.
  $v\in V\setminus\Set{\zzero}$に対し,
  $(v)$は一次独立.
\end{prop}

\begin{prop}
  $V$, $W$を有限次元線形空間とする.
  このとき, 以下は同値:
  \begin{enumerate}
  \item $V\simeq W$.
  \item $\dim_\KK V = \dim_\KK W$.
  \end{enumerate}
\end{prop}

\begin{prop}
  $W$をベクトル空間とし, $V$を$W$の部分空間とする.
  $(v_1,\ldots,v_n)$を$V$の基底とする.
  このとき,
  $w_1,\ldots,w_m\in W$で,
  $(v_1,\ldots,v_n,w_1,\ldots,w_m)$が$W$の基底となるものが
  存在する.  
\end{prop}

\begin{prop}
  $W$を線形空間とし, $V$を$W$の部分空間とする.
  このとき,  $\dim_\KK V \leq \dim_\KK W$.
\end{prop}

\begin{prop}
  $W$をベクトル空間とし, $V$を$W$の部分空間とする.
  このとき, 以下は同値:
  \begin{enumerate}
   \item $V = W$.
   \item $\dim_\KK V = \dim_\KK W$.
  \end{enumerate}
\end{prop}

\begin{prop}
  $U$をベクトル空間とし, $V$, $W$を$U$の部分空間とする.
  このとき,  $\dim_\KK(V+W)=\dim_\KK(V)+\dim_\KK(W) - \dim_\KK(W\cap V)$.
\end{prop}
\begin{prop}
  $U$をベクトル空間とし, $V$, $W$を$U$の部分空間とする.
  このとき,
  \begin{enumerate}
  \item $V+W=V\oplus W$.
  \item $\dim_\KK(V+W)=\dim_\KK(V)+\dim_\KK(W)$.
  \end{enumerate}
\end{prop}

\begin{prop}
  $U$を有限次元ベクトル空間とし, $V$を$U$の部分空間とする.
  このとき,
  $U=V\oplus W$を満たす$U$の部分空間$W$が存在する.
\end{prop}

\begin{prop}
  $U$を$\KK$-線形空間とし, $V, W$を$U$の部分空間とする.
  $(v_1,\ldots,v_n)$を$V$の基底,
  $(w_1,\ldots,w_m)$を$W$の基底とする.
  $U=V\oplus W$と内部直和に分解されるとき,
  $(v_1,\ldots,v_n,w_1,\ldots,w_m)$
  は$U$の基底である.
\end{prop}

\begin{cor}
  $U$を$n$次元$\KK$線形空間とし,
  $U=V_1\oplus \cdots \oplus V_n$と
  $n$個の1次元部分空間の内部直和に分解されるとする.
  $v_i\in V_i \setminus \Set{0}$とすると,
  $(v_1,\ldots,v_n)$は$U$の基底.
\end{cor}


\begin{prop}
  $V$を$\KK$線形空間とし,
  $v_1,\ldots, v_n\in V\setminus\Set{\zzero}$とする.
  また,
  $V_i=\Braket{v_i}_\KK=\Set{c\act v_i|c\in\KK}$とする.
  このとき, 以下は同値:
  \begin{enumerate}
  \item $(v_1,\ldots, v_n)$は$V$の生成系.
  \item $V=V_1+\cdots + V_k$.
  \end{enumerate}
\end{prop}

\begin{prop}
  $V$を$\KK$線形空間とし,
  $v_1,\ldots, v_n\in V\setminus\Set{\zzero}$とする.
  また,
  $V_i=\Braket{v_i}_\KK=\Set{c\act v_i|c\in\KK}$とし,
  $U=V_1+\cdots + V_k$とする.
  このとき, 以下は同値:
  \begin{enumerate}
  \item $(v_1,\ldots, v_n)$は一次独立.
  \item $U$は$U=V_1\oplus\cdots \oplus V_k$と内部直和に分解される.
  \end{enumerate}
\end{prop}

\begin{prop}
  $V$を$\KK$線形空間とし,
  $v_1,\ldots, v_n\in V\setminus\Set{\zzero}$とする.
  また,
  $V_i=\Braket{v_i}_\KK=\Set{c\act v_i|c\in\KK}$とする.
  このとき, 以下は同値:
  \begin{enumerate}
  \item $(v_1,\ldots, v_n)$は$V$の基底.
  \item $V$は$V=V_1\oplus\cdots \oplus V_k$と内部直和に分解される.
  \end{enumerate}
\end{prop}
  

\begin{prop}
  $V$, $W$を有限次元ベクトル空間とする.
  $\varphi\colon V\to W$を線形写像とする.
  $\dim_\KK(V)=\dim_\KK(W)$のとき, 以下は同値:
  \begin{enumerate}
  \item $\varphi$は同型写像.
  \item $\varphi$は全単射.
  \item $\varphi$は全射.
  \item $\varphi$は単射.
  \end{enumerate}
\end{prop}


\begin{prop}
  $V$, $W$を$\KK$-線形空間とし,
  $\varphi\colon V\to W$を線形写像とする.
  このとき以下は同値:
  \begin{enumerate}
  \item $\varphi$が単射.
  \item $n\in \NN$, $v_1,\ldots,v_n\in V$,
    $(v_1,\ldots,v_n)$が$\KK$上一次独立
    $\implies (\varphi(v_1),\ldots,\varphi(v_n))$は$\KK$上一次独立.
  \end{enumerate}
\end{prop}



\begin{prop}
  基底の交換定理.
\end{prop}
\begin{prop}
  $V$を$\KK$線形空間とする.
  次は同値:
  \begin{enumerate}
  \item $\dim_{\KK}(V)=n$.
  \item $\max\Set{r|(v_1,\ldots,v_r)\text{は一次独立}}=n$.
  \item $(v_1,\ldots, v_r)$が極大な一次独立な組なら$n=r$.
  \item $\min\Set{r|(v_1,\ldots,v_r)\text{は一次従属}}=n$.
  \item $(v_1,\ldots, v_r)$が極小な一次従属な組なら$n=r$.
  \end{enumerate}
\end{prop}

\begin{prop}
  $(v_1,\ldots, v_r)$が極大な一次独立な組は基底.
\end{prop}
\begin{prop}
  $(v_1,\ldots, v_r)$が極小な一次従属な組は基底.
\end{prop}


\section{無限次元線形空間}
\begin{definition}
$\KK$を体とし,
$V$を$\KK$-ベクトル空間とする.
どの$n\in\NN$に対しても,
単射な線形写像$\varphi_n\colon \KK^n\to V$が存在するとき,
$V$は無限次元ベクトル空間であるという.
\end{definition}
\begin{remark}
$\KK$を体とし,
$V$を$\KK$-ベクトル空間とする.
このとき, 以下は同値:
\begin{enumerate}
\item
$V$は無限次元ベクトル空間であるという.
\item
どの$n\in\NN$に対しても,
$\KK^n$と$V$が同型にならない.
\end{enumerate}
\end{remark}
無限次元線形空間の基底については,
範囲外であるのでここでは省略する.

\sectionX{章末問題}
\begin{quiz}
  %\solvelater{quiz:1:1}
\end{quiz}

\chapter{商空間}
\section{商空間}
$U$を$\KK$線形空間とし,
$V$を$U$の部分空間とする.
$u\in U$に対し,
\begin{align*}
  [u]_V=\Set{u+v|v\in V}
\end{align*}
とする.
\begin{example}
$U=\RR^2$, $V=\Set{\begin{pmatrix}t\\t\end{pmatrix}|t\in\RR}$
  とする. $V$は$U$の部分空間である.
  $u=\begin{pmatrix}a\\b\end{pmatrix}$
  とすると,
  $[u]_V$は$u$を通り$V$に平行な直線である.
  たとえば,
  \begin{align*}
    u=\begin{pmatrix}a\\0\end{pmatrix}\\
    u'=\begin{pmatrix}0\\-a\end{pmatrix}
  \end{align*}
  とすると,
  \begin{align*}
    [u]_V=[u']_V=\Set{\begin{pmatrix}a+t\\t\end{pmatrix}|t\in\RR}
  \end{align*}
  である.
  \begin{figure}\caption{}\end{figure}
\end{example}
\begin{lemma}
$v\in V$ならば, $[v]_V=V$.
とくに,  $[\zzero]_V=V$.
\end{lemma}
\begin{proof}
定義から明白.
\end{proof}
\begin{lemma}
$u,v\in U$に対し, 以下は同値:
\begin{enumerate}
\item $[u]_V=[v]_V$.
\item $u-v \in V$.
\end{enumerate}
\end{lemma}
\begin{proof}\end{proof}

\begin{lemma}
\label{lem:quotientspace:well:def}
  $u,u',w,w'\in U$, $c\in \KK$に対し, 以下が成り立つ:  
  \begin{enumerate}
  \item $[u]_V=[u']_V, [w]_V=[w']_V \implies [u+w]_V=[u'+w']_V$.
  \item $[u]_V=[u']_V \implies [c\act u]_V=[c\act u']_V$.
  \end{enumerate}
\end{lemma}
\begin{proof}\end{proof}

\begin{align*}
  U/V=\Set{[u]_V|u\in U}
\end{align*}
とおく.
\Cref{lem:quotientspace:well:def}
より,
$[u]_V,[w]_V\in U/V$, $c\in\KK$に対し
\begin{align*}
[u]_V\pplus [w]_V &= [u+w]_V\\
c\aact [u]_V &= [c\act u]_V
\end{align*}
とすると,
$\pplus$, $\aact$は
$U/V$上の演算として定義できる.
\begin{lemma}
  $(U/V,\pplus,\aact,[\zzero]_V)$
  は$\KK$線形空間.
\end{lemma}
\begin{proof}\end{proof}
\begin{definition}
  $\KK$線形空間
  $(U/V,\pplus,\aact,[\zzero]_V)$
  を$U$の$V$による剰余空間, 商空間と呼ぶ.
\end{definition}

\begin{remark}
  ここでは,
  議論をはっきりさせるため,
  剰余空間の演算を
  $\pplus,\aact$という記号で書いたが,
  通常は,
  剰余空間の演算を
  もとの空間と同じ記号を用いる.
  つまり,
  \begin{align*}
    [u]_V+[w]_V&=[u+w]_V=\Set{u+w+v|v\in V}, \\
    c\act [u]_V&=[c\act u]_V=\Set{c\act u +v|v\in V}
  \end{align*}
  とする.
\end{remark}

\section{次元定理}
\begin{theorem}
  \label{thm:fund:hom}
  $\varphi\colon U \to W$を$\KK$-線形写像とする.
  このとき,
  $U/\Ker(\varphi)\simeq \Img(\varphi)$.
\end{theorem}
\begin{proof}
  $V=\Ker(\varphi)$とする.
  
  $[u]_V=[u']_V$とすると, $u-u'\in W=\Ker(\varphi)$であるので,
  $\varphi(u-u')=\zzero_W$である.
  よって, $\varphi(u)-\varphi(u')=\zzero_W$であるから,
  $\varphi(u)=\varphi(u')$.
  したがって, $\Phi([u]_V)=\varphi(u)$
  と定めると,
  $\Phi$は$U/V$から$\Img(\varphi)$への写像となる.
  \begin{align*}
    \shazo{\Phi}{U/V}{\Img(\varphi)}
    {[u]_V}{\varphi(u)}
  \end{align*}
  が同型写像であることを示す.
  \paragraph{線型性}
  \begin{align*}
    \Phi([u]_V+[u']_V)&=\Phi([u+u']_V)=\varphi(u+u')=\varphi(u)+\varphi(u')\\
    \Phi([u]_V)+\Phi([u']_V)&=\varphi(u)+\varphi(u')\\
    \Phi(c\act [u]_V)&=\Phi([c\act u]_V)\varphi(c\act u)=c\act \varphi(u)\\
    c\act \Phi([u]_V)&=c\act \varphi(u)
  \end{align*}
  であるので, $\Phi$は線形写像.
  \paragraph{単射性}
  $\Phi([u]_V)=\Phi([u']_V)$とする.
  このとき, $\varphi(u)=\varphi(u')$であるので,
  $\varphi(u)-\varphi(u')=\zzero_W$である.
  よって,
  $\varphi(u-u')=\zzero_W$であるから,
  $u-u'\in \Ker(\varphi)=V$.
  したがって, $[u]_V=[u']_V$.
  
  \paragraph{全射性}
  $\varphi(u)\in \Img(\varphi)$とする.
  このとき, $\Phi([u]_V)=\varphi(u)$であるので,
  $\Phi$は全射である.
\end{proof}

\begin{cor}
$U=V\oplus W$
  であるとき, $U/V\simeq= W$.
\end{cor}
\begin{proof}
$U=V\oplus W$であるので,
  $u\in U$に対し,
  $u=v+w$となる$v\in V$, $w\in W$がただ一組存在するので,
  この, $w$を$\varphi(u)$とおく.
  このとき,
  \begin{align*}
    \shazo{\varphi}{U}{W}{u}{\varphi(u)}
  \end{align*}
  は線形写像である.
  その定義から, $\Img(\varphi)=W$, $\Ker(\varphi)=V$であるので,
  \Cref{thm:fund:hom}より $U/V\simeq W$.
\end{proof}

\begin{theorem}
  \label{thm:dim:quotient}
  $V$を$U$の部分空間とする.
  $v_1,\ldots, v_n,w_1,\ldots,w_m\in U$とし,
  $(v_1,\ldots, v_n)$は$V$の基底,
  $(v_1,\ldots, v_n,w_1,\ldots, w_m)$は$U$の基底であるとする.
  このとき,
  \begin{align*}
    ([w_1]_V,\ldots, [w_m]_V)
  \end{align*}
  は$U/V$の基底.
  とくに, $\dim_\KK(U/V)=\dim_\KK(U)-\dim_\KK(V)$.
\end{theorem}
\begin{proof}
  \begin{align*}
    \shazo{\varphi}{\KK^m}{U/V}
          {\begin{pmatrix}a_1\\\vdots\\a_m\end{pmatrix}}
          {\sum_{i=1}^m a_i\act [w_i]_V}
  \end{align*}
  は線形写像である.
  これが同型写像であることを示す.
  \paragraph{全射性}
  $[u]_V\in U/V$とする.
  $(v_1,\ldots, v_n,w_1,\ldots, w_m)$は$U$の基底であるので,
  $u=\sum_{i}a_i\act v_i+\sum_{i}b_i \act w_i$
  とかける.
  そこで,
  $w=\sum_{i}b_i \act w_i$
  とおく.
  このとき$v=u-w$とおくと$v\in V$である.
  したがって, $[u]_V=[w]_V$である.
  よって,
  \begin{align*}
    [u]_V
    &=[w]_V\\
    &=[\sum_{i}b_i \act w_i]_V\\
    &=\sum_{i}b_i \act[ w_i]_V\\
    &=\varphi(\begin{pmatrix}b_1\\\vdots\\b_m\end{pmatrix})\\
  \end{align*}
  \paragraph{単射性}
  $\Ker(\varphi)\subset\Set{\zzero_m}$を示す.
  $\varphi(\begin{pmatrix}b_1\\\vdots\\b_m\end{pmatrix})=[\zzero]_V$
  とする.
  このとき,
  $[\sum_{i}b_i \act w_i]_V=[\zzero]_V$
  であるので, $\sum_{i}b_i \act w_i\in V$である.
  $(v_1,\ldots, v_n)$は$V$の基底であるから,
  $\sum_{i}b_i \act w_i=\sum_{i}a_i\act v_i$
  となる$a_i\in \KK$が存在するが,
  移項すると,
  $-\sum_{i}a_i\act v_i+\sum_{i}b_i \act w_i=\zzero$
  となる.
  $(v_1,\ldots, v_n,w_1,\ldots, w_m)$は一次独立であるので,
  $a_1=\cdots=a_n=b_1=\cdots=b_m=0$.
  よって
  $\begin{pmatrix}b_1\\\vdots\\b_m\end{pmatrix}=\zzero_m$.
\end{proof}


\begin{cor}
  $V$を有限次元ベクトル空間とし,
  $\varphi\colon V\to W$を線形写像とする.
  このとき,
  $\dim_{\KK}(\Img(\varphi))+\dim_{\KK}(\Ker(\varphi))=\dim_{\KK}(V)$.
\end{cor}
\begin{proof}
  \Cref{thm:fund:hom}より $V/\Ker(\varphi) \simeq \Img(\varphi)$.
  したがって,
  $\dim_{\KK}(V/\Ker(\varphi))=\dim_{\KK}(\Img(\varphi))$.
  \Cref{thm:dim:quotient}より,
  $\dim_{\KK}(V/\Ker(\varphi))=\dim_{\KK}(V)-\dim_{\KK}(\Ker(\varphi))$
  であるので,
  $\dim_{\KK}(\Img(\varphi))+\dim_{\KK}(\Ker(\varphi))=\dim_{\KK}(V)$.
\end{proof}


\sectionX{章末問題}
\begin{quiz}
  %\solvelater{quiz:1:1}
\end{quiz}




\chapter{表現行列}
\section{数ベクトル空間上の線形写像}
$\KK^n$から$\KK^m$への$\KK$-線形写像について考える.
\begin{lemma}
  $\varphi\colon \KK^n\to \KK^m$,
  $\psi\colon \KK^n\to \KK^m$を$\KK$-線形写像とする.
  すべての$i$に対し, $\varphi(\ee_i)=\psi(\ee_i)$とする.
  このとき,
  $\varphi=\psi$.
\end{lemma}
\begin{proof}
  \begin{align*}
    \aaa=\begin{pmatrix}a_1\\\vdots\\a_n\end{pmatrix}
    \in\KK^n
\end{align*}
とする. このとき, $\aaa=a_1\ee_1+\cdots+a_n\ee_n$である.
  \begin{align*}
    \varphi(\aaa)&=\varphi(a_1\ee_1+\cdots+a_n\ee_n)\\
    &=a_1\varphi(\ee_1)+\cdots+a_n\varphi(\ee_n).\\
    \psi(\aaa)
    &=\psi(a_1\ee_1+\cdots+a_n\ee_n)\\
    &=a_1\psi(\ee_1)+\cdots+a_n\psi(\ee_n).
  \end{align*}
  よって$\varphi(\aaa)=\psi(\aaa)$.
\end{proof}

\begin{lemma}
  $\aaa_1,\ldots,\aaa_n\in \KK^m$とする.
  このとき,
  \begin{align*}
    \shazo{\varphi}{\KK^n}{\KK^m}
          {\begin{pmatrix}x_1\\\vdots\\x_n\end{pmatrix}}
          {x_1\aaa_1+\cdots+x_n\aaa_n}
  \end{align*}
  とすると, これは線形写像.
  また, $A$を$\aaa_1,\ldots,\aaa_n$を並べた$(m,n)$-行列とする.
  つまり, $A=(\aaa_1|\cdots|\aaa_n)$とする.
  このとき, $\varphi(\xx)=A\xx$.
\end{lemma}
\begin{proof}\end{proof}

よって, 
$\KK^n$から$\KK^m$への$\KK$-線形写像を考えるなら,
$A\in\KK^{m\times n}$に対して,
\begin{align*}
  \shazo{\mu_A}{\KK^n}{\KK^m}
        {\xx}
        {A\xx}
\end{align*}
を考えれば十分である.

\begin{prop}
  $A,A'\in \KK^{m\times n}$,
  $B\in\KK^{l\times m}$,
  $c\in\KK$に対し, 以下が成り立つ:
  \begin{enumerate}
  \item $\mu_{A+A'}=\mu_A+\mu_{A'}$.
  \item $\mu_{cA}=c\mu_A$.
  \item $\mu_{BA}=\mu_B\circ\mu_{A}$.
  \end{enumerate}
\end{prop}
\begin{proof}\end{proof}

\begin{cor}
  $A\in \KK^{n\times n}$とする.
  このとき,
  以下が成り立つ:
  \begin{enumerate}
  \item $\mu_{E_n}=\id_{\KK^n}$
  \item $A$が正則$\implies \mu_A$は同型写像.
  \end{enumerate}
\end{cor}
\begin{proof}\end{proof}


\begin{prop}
  $A\in\KK^{m\times n}$とする.
  $A=(\aaa_1|\cdots|\aaa_n)$とすると,
  以下が成り立つ:
  \begin{enumerate}
  \item $\Img(\mu_A)=\Braket{\aaa_1,\ldots,\aaa_n}$.
  \item $\Ker(\mu_A)=\Set{\xx\in\KK^n|A\xx=\zzero_m}$. つまり, $\Ker(\mu_A)$は,
    方程式$A\xx=\zzero_m$の解の空間.
  \end{enumerate}
\end{prop}
\begin{proof}\end{proof}

\begin{cor}
  $\KK$を体とし,
  $A\in\KK^{m\times n}$とする.
  このとき,
  以下が成り立つ:
  \begin{enumerate}
  \item $\dim_\KK(\Img(\mu_A))=\rank(A)$.
  \item $\dim_\KK(\Ker(\mu_A))$は
    方程式$A\xx=\zzero_m$の解の自由度, つまり$n-\rank(A)$.
  \end{enumerate}
\end{cor}
\begin{proof}\end{proof}

\begin{cor}
  $\KK$を体とし,
  $A\in\KK^{m\times n}$とする.
  このとき,
  以下が成り立つ:
  \begin{enumerate}
  \item $\rank(A)=m \implies \mu_A$は全射.
  \item $\rank(A)=n \implies \mu_A$は単射.
  \item $\rank(A)=n=m\implies \mu_A$は同型写像.
  \end{enumerate}
\end{cor}
\begin{proof}\end{proof}



\section{表現行列}
$V$を$\KK$-線形空間とし, $v_1,\ldots,v_n\in V$とする.
このとき,
\begin{align*}
    \shazo{\nu_{(v_1,\ldots,v_n)}}{\KK^n}{V}
          {\begin{pmatrix}x_1\\\vdots\\x_n\end{pmatrix}}
          {x_1\act v_1+\cdots+x_n\act v_n}
\end{align*}
とする.
$(v_1,\ldots,v_n)$が$V$の基底であるとき,
$\nu_{(v_1,\ldots,v_n)}$は同型写像である.

\begin{definition}
  $V$, $W$を$\KK$-線形空間とし,
  $D=(v_1,\ldots,v_n)$,
  $B=(w_1,\ldots,w_m)$とする.
  $\varphi\colon V\to W$を$\KK$-線形写像に対し,
  $(\nu_B)^{-1}\circ \varphi\circ \nu_D$は,
  $\KK^n$から $\KK^m$への$\KK$-線形写像である.
  $\mu_A=(\nu_B)^{-1}\circ \varphi\circ \nu_D$
  を満たす$A\in\KK^{m\times n}$を$\varphi$の$D$, $B$に関する
  表現行列と呼ぶ.
\end{definition}
\begin{prop}
  $V$, $W$を$\KK$-線形空間とし,
  $D=(v_1,\ldots,v_n)$を$V$の基底,
  $B=(w_1,\ldots,w_m)$を$W$の基底とする.
  $\varphi\colon V\to W$を$\KK$-線形写像とし,
  $A\in\KK^{m\times n}$を$\varphi$の$D$, $B$に関する表現行列とする.
このとき,
\begin{align*}
  \varphi=\nu_B\circ \mu_A\circ (\nu_{D})^{-1}
\end{align*}
である.
\end{prop}
\begin{proof}\end{proof}

\begin{prop}
  $V$, $W$を$\KK$-線形空間とし,
  $D=(v_1,\ldots,v_n)$を$V$の基底,
  $B=(w_1,\ldots,w_m)$を$W$の基底とする.
  $\varphi\colon V\to W$を$\KK$-線形写像とし,
  $A\in\KK^{m\times n}$を$\varphi$の$D$, $B$に関する表現行列とする.
  また,
  $\varphi(v_j)=\sum_{i=1}^m a_{i,j} w_i$
  とする.
  このとき,
\begin{align*}
  A=(a_{i,j})_{i\in I, j\in J}
\end{align*}
ただし,
$I=\Set{1,\ldots,m}$,
$J=\Set{1,\ldots,m}$.
\end{prop}
\begin{proof}\end{proof}


\begin{prop}
  $V$, $W$を$\KK$-線形空間とし,
  $D=(v_1,\ldots,v_n)$を$V$の基底,
  $B=(w_1,\ldots,w_m)$を$W$の基底とする.
  $\varphi\colon V\to W$を$\KK$-線形写像とし,
  $A\in\KK^{m\times n}$を$\varphi$の$D$, $B$に関する表現行列とする.
このとき,
\begin{align*}
  \varphi(v_j)=\sum_{i=1}^m a_{i,j}w_i
\end{align*}
である.
つまり,
\begin{align*}
  \varphi(\sum_{j=1}^n x_j v_j)
  &=\sum_{i=1}^m a_{i,j}x_jw_i.
\end{align*}
\end{prop}
\begin{proof}\end{proof}


\begin{prop}
  $V$, $W$, $U$を$\KK$-線形空間とし,
  $D=(v_1,\ldots,v_n)$を$V$の基底,
  $B=(w_1,\ldots,w_m)$を$W$の基底,
  $C=(u_1,\ldots,u_l)$を$U$の基底
  とする.
  $\varphi\colon V\to W$を$\KK$-線形写像とし,
  $A\in\KK^{m\times n}$を$\varphi$の$D$, $B$に関する表現行列とする.
  $\varphi'\colon V\to W$を$\KK$-線形写像とし,
  $A'\in\KK^{m\times n}$を$\varphi'$の$D$, $B$に関する表現行列とする.
  $\psi\colon W\to U$を$\KK$-線形写像とし,
  $B\in\KK^{m\times n}$を$\psi$の$B$, $C$に関する表現行列とする.
  $c\in \KK$とする.
このとき,
\begin{enumerate}
  \item $\varphi+\varphi'$の$B$, $D$に関する表現行列は$A+A'$.
  \item $c\varphi+\varphi'$の$B$, $D$に関する表現行列は$cA$.
  \item $\psi\varphi'$の$B$, $C$に関する表現行列は$BA$.
\end{enumerate}
\end{prop}
\begin{proof}\end{proof}



\begin{prop}
  $V$, $W$を$\KK$-線形空間とし,
  $D=(v_1,\ldots,v_n)$を$V$の基底,
  $B=(w_1,\ldots,w_m)$を$W$の基底
  とする.
  $\varphi\colon V\to W$を$\KK$-線形写像とし,
  $A\in\KK^{m\times n}$を$\varphi$の$D$, $B$に関する表現行列とする.
  このとき,
\begin{enumerate}
  \item $\Img(\varphi)=\Set{\nu_B(\xx) |\xx\in \Img(\mu_A)}$.
  \item $\Ker(\varphi)=\Set{\nu_D(\xx) |\xx\in \Ker(\mu_A)}$.
\end{enumerate}
\end{prop}
\begin{proof}\end{proof}

\begin{prop}
  $V$, $W$を$\KK$-線形空間とし,
  $D=(v_1,\ldots,v_n)$を$V$の基底,
  $B=(w_1,\ldots,w_m)$を$W$の基底
  とする.
  $\varphi\colon V\to W$を$\KK$-線形写像とし,
  $A\in\KK^{m\times n}$を$\varphi$の$D$, $B$に関する表現行列とする.
  このとき,
\begin{enumerate}
  \item $\dim_\KK\Img(\varphi)=\rank(A)$.
  \item $\dim_\KK\Ker(\varphi)=n-\rank(A)$.
\end{enumerate}
\end{prop}
\begin{proof}\end{proof}

\begin{prop}
  $\KK$を体とし,
  $V$, $W$を$\KK$-ベクトル空間とし,
  $D=(v_1,\ldots,v_n)$を$V$の基底,
  $B=(w_1,\ldots,w_m)$を$W$の基底
  とする.
  $\varphi\colon V\to W$を$\KK$-線形写像とし,
  $A\in\KK^{m\times n}$を$\varphi$の$D$, $B$に関する表現行列とする.
  このとき,
\begin{enumerate}
  \item $\rank(A)=m\implies \varphi$は全射.
  \item $\rank(A)=n\implies \varphi$は単射.
  \item $\rank(A)=m=n\implies \varphi$は同型写像.
\end{enumerate}
\end{prop}
\begin{proof}\end{proof}

\section{基底の変換行列と表現行列}

\begin{definition}
  $V$を$n$次元$\KK$-線形空間とする.
  $D,D'$を$V$の基底とする.
  このとき, $(\nu_{D'})^{-1}\circ\nu_{D}$は$\KK^n$から$\KK^n$への線形写像
  である.
  $\mu_T=(\nu_{D'})^{-1}\circ\nu_{D}$
  となる$T\in\KK^{n\times n}$を基底$D'$から基底$D$への変換行列と呼ぶ.
\end{definition}
\begin{remark}
  $T\in\KK^{n\times n}$を基底$D'$から基底$D$への変換行列とするとき,
  $\mu_T=(\nu_{D'})^{-1}\circ\nu_{D}=(\nu_{D'})^{-1}\circ\id_{V}\circ\nu_{D}$
  とかけるので,
  $T$は
  $\id_{V}\colon V\to V$の$D,D'$に関する表現行列である.
\end{remark}
  $\mu_T=(\nu_{D'})^{-1}\circ\nu_{D}$
となる$T\in\KK^{n\times n}$が,
($\nu_{D}$の後に$(\nu_{D'})^{-1}$が来ているにも関わらず)
`基底$D'$から基底$D$への'変換行列
と呼ばれるのは,
\Cref{thm:trasmat:description}が成り立つからである.
\begin{prop}
  \label{thm:trasmat:description}
  $V$を$n$次元$\KK$-線形空間とする.
  $D=(v_1,\ldots, v_n)$,
  $D'=(v'_1,\ldots, v'_n)$を$V$の基底とし,
  $T=(t_{i,j})_{i\in I, j\in I}\in\KK^{n\times n}$を$D'$から$D$への変換行列とする.
  このとき,
  \begin{align*}
    v_j=\sum_{i=1}^n t_{i,j}v'_i.
  \end{align*}
  ただし, $I=\Set{1,\ldots, n} $.
  つまり,
  \begin{align*}
    (v_1,\ldots, v_n)=(v'_1,\ldots, v'_n)T.
  \end{align*}
\end{prop}
\begin{proof}
  $\ttt_j=((\nu_{D'})^{-1}\circ\nu_{D})(\ee_j)$とする.
  このとき,
  \begin{align*}
     \nu_{D'}(\ttt_j)
    &=(\nu_{D'}\circ(\nu_{D'})^{-1}\circ\nu_{D})(\ee_j))\\
    &=(\nu_{D}(v_j)\\
    &=v_j
  \end{align*}
  である.
  一方,
  \begin{align*}
    \ttt_j&=((\nu_{D'})^{-1}\circ\nu_{D})(\ee_j)\\
    &=T\ee_j\\
    &=\sum_{i=1}^n t_{i,j}\ee_j
  \end{align*}
  であるので,
  \begin{align*}
    \nu_{D'}(\ttt_j)
    &=\nu_{D'}(\sum_{i=1}^n t_{i,j}\ee_j)\\
    &=\sum_{i=1}^n t_{i,j}\nu_{D'}(\ee_j)\\
    &=\sum_{i=1}^n t_{i,j}v'_j.
  \end{align*}
\end{proof}

\begin{prop}
  $V$を$n$次元$\KK$-線形空間とする.
  $D=(v_1,\ldots, v_n),D'=(v'_1,\ldots, v'_n)$を$V$の基底とし,
  $T\in\KK^{n\times n}$を$D'$から$D$への変換行列とする.
  $v_j=\sum_{i=1}^n t_{i,j}v'_i$とすると,
  \begin{align*}
    T=(t_{i,j})_{i\in I, j\in I}.
  \end{align*}
  ただし, $I=\Set{1,\ldots, n} $.
\end{prop}
\begin{proof}\end{proof}

\begin{prop}
  $V$を$n$次元$\KK$-線形空間とする.
  $D=(v_1,\ldots, v_n),D'=(v'_1,\ldots, v'_n)$を$V$の基底とし,
  $T\in\KK^{n\times n}$を$D'$から$D$への変換行列とする.
  このとき, $T$は正則である.
\end{prop}
\begin{proof}\end{proof}

\begin{prop}
  $V$を$n$次元$\KK$-線形空間とする.
  $D=(v_1,\ldots, v_n)$を$V$の基底とする.
  $T=(t_{i,j})_{i\in I, j\in I}$とし,
  $v_j=\sum_{i=1}^n t_{i,j}v'_i$とする.
  $T$が正則なら,
  $D'=(v'_1,\ldots, v'_n)$は$V$の基底であり,
  $D'$から$D$への変換行列は$T$である.
\end{prop}
\begin{proof}\end{proof}


\begin{prop}
  $V$を$n$次元$\KK$-線形空間とする.
  $D=(v_1,\ldots, v_n),D'=(v'_1,\ldots, v'_n)$を$V$の基底とし,
  $T\in\KK^{n\times n}$を$D'$から$D$への変換行列とする.
  このとき, $T^{-1}$は$D$から$D'$への変換行列である.
\end{prop}
\begin{proof}\end{proof}



\begin{prop}
  $V$, $W$を$\KK$-線形空間とする.
  $D, D'$を$V$の基底とする.
  $B, B'$を$V$の基底とする.
  $T$を$D'$から$D$への変換行列とし,
  $F$を$B'$から$B$への変換行列とする.
  $\varphi\colon V\to W$を$\KK$-線形写像とする.
  $A$を$\varphi$の$D$, $B$に関する表現行列とする.
  $A'$を$\varphi'$の$D'$, $B'$に関する表現行列とする.
  このとき,
  $A'=F^{-1}AT$.
\end{prop}
\begin{proof}\end{proof}

\begin{prop}
  $V$, $W$を$\KK$-線形空間とする.
  $D, D'$を$V$の基底とする.
  $B, B'$を$V$の基底とする.
  $A$を$\varphi$の$D$, $B$に関する表現行列とする.
  このとき,
  \begin{align*}
    \Set{A'|\text{$\varphi$の基底$D'$, $B'$に関する表現行列}}
    &=
    \Set{F^{-1}AT|\text{$F^{-1}$,$T$は正則}}.
  \end{align*}
\end{prop}
\begin{proof}\end{proof}



\begin{definition}
$V$を$\KK$-線形空間とする.
  線形変換
$\varphi\colon V\to V$
と
$V$の基底$D$
に対し,
$\varphi$の$D$, $D$に関する表現行列を,
$\varphi$の$D$に関する行現行列と呼ぶ.
\end{definition}
\begin{prop}
  $V$を$\KK$-線形空間とする.
  $D, D'$を$V$の基底とする.
  $D$から$D'$への変換行列を$T$とする.
  $A$を$\varphi$の$D$に関する表現行列とする.
  $A'$を$\varphi$の$D'$に関する表現行列とする.
  このとき,
  \begin{align*}
    A'=TAT^{-1}.
  \end{align*}
\end{prop}
\begin{proof}\end{proof}

\begin{prop}
  $V$を$\KK$-線形空間とする.
  $D$を$V$の基底とする.
  $A$を$\varphi$の$D$に関する表現行列とする.
  このとき,
  \begin{align*}
    \Set{A'|\text{$\varphi$の基底$D'$に関する表現行列}}
    &=
    \Set{TAT^{-1}|\text{$T$は正則}}.
  \end{align*}
\end{prop}
\begin{proof}\end{proof}


\section{表現行列の例}
\begin{example}
  $V$を$n$次元$\KK$線形空間とし,
  $\lambda \in \KK$に対し,
  \begin{align*}
    \shazo{\varphi}{V}{V}
    {v}{\lambda v}
  \end{align*}
  という$V$上の線形変換を考える.
  このとき, $\varphi$の表現行列は,
  どの基底に対しても,
  $\lambda E_n$となる.
\end{example}

\sectionX{章末問題}
\begin{quiz}
  %\solvelater{quiz:1:1}
\end{quiz}




\chapter{行列式}
\section{交代的多重線形写像}

\begin{definition}
  $V$, $W$を$\KK$-線形空間とする.
  以下を満たすとき,
  写像
  \begin{align*}
    F\colon V\times V\times \cdots \times V\to W
  \end{align*}
  は,
  第$i$変数に関して, 
  線形であるという:
  \begin{enumerate}
  \item $v_1,\ldots,v_n,v'_i\in V$に対し
    \begin{align*}
      &F(v_1,\ldots,v_{i-1},v_i+v'_i,v_{i+1},\ldots,v_n)\\&=F(v_1,\ldots,v_{i-1},v_i,v_{i+1},\ldots,v_n)+F(v_1,\ldots,v_{i-1},v'_i,v_{i+1},\ldots,v_n).
    \end{align*}
  \item $v_1,\ldots,v_n\in V$, $c\in\KK$に対し,
    \begin{align*}
      F(v_1,\ldots,v_{i-1},cv_i,v_{i+1},\ldots,v_n)=c\act F(v_1,\ldots,v_{i-1},v_i,v_{i+1},\ldots,v_n).
    \end{align*}
  \end{enumerate}
\end{definition}
\begin{remark}
  写像
  \begin{align*}
    F\colon V\times V\times \cdots \times V\to W
  \end{align*}
  に対して,
  $v_1,\ldots,v_{i-1},v_{i+1},\ldots,v_n\in V$
  ごとに,
  \begin{align*}
    \shazo{\varphi_{v_1,\ldots,v_{i-1},v_{i+1},\ldots,v_n}}{V}{W}
    {v}{F(v_1,\ldots,v_{i-1},v,v_{i+1},\ldots,v_n)}
  \end{align*}
  を考えることができる.
  この記号の下, 以下は同値である:
  \begin{enumerate}
  \item $F$が第$i$成分に関して線形.
  \item 任意の$v_1,\ldots,v_{i-1},v_{i+1},\ldots,v_n\in V$
    に対し, $\varphi_{v_1,\ldots,v_{i-1},v_{i+1},\ldots,v_n}$は線形.
  \end{enumerate}
\end{remark}
\begin{definition}
  $V$, $W$を$\KK$-線形空間とする.
  次を満たすとき,
  写像
  \begin{align*}
    F\colon \underbrace{V\times V\times \cdots \times V}_n\to W
  \end{align*}
  は,
  $n$重線形であるという:
  \begin{enumerate}
  \item 任意の$i$に対し, $F$は第$i$変数に関して線形である.
  \end{enumerate}
\end{definition}

\begin{definition}
  $V$, $W$を$\KK$-線形空間とする.
  $i\neq j$とする.
  次を満たすとき,
  写像
  \begin{align*}
    F\colon \underbrace{V\times V\times \cdots \times V}_n\to W
  \end{align*}
  は,
  第$i$変数と第$j$変数に関して
  交代的であるという:
  \begin{enumerate}
      \item $v_i=v_j\implies F(v_1,\ldots,v_n)=\zzero_W$.
  \end{enumerate}
\end{definition}

\begin{definition}
  $V$, $W$を$\KK$-線形空間とする.
  次を満たすとき,
  写像
  \begin{align*}
    F\colon \underbrace{V\times V\times \cdots \times V}_n\to W
  \end{align*}
  は,
  交代的であるという:
  \begin{enumerate}
  \item
    任意の$i<j$に対して第$i$変数と第$j$変数に関して交代的である.
  \end{enumerate}
\end{definition}
\begin{prop}
  $V$, $W$を$\KK$-線形空間とし,
  \begin{align*}
    F\colon \underbrace{V\times V\times \cdots \times V}_n\to W
  \end{align*}
  は
  交代的な$n$重線形写像とする.
  $i<j$に対し, 次が成り立つ:
  \begin{align*}
    &F(v_1,\ldots,v_{i-1};v_i;v_{i+1},\ldots,v_{j-1};v_j;v_{j+1},\ldots,v_n)\\
    =
    -&
F(v_1,\ldots,v_{i-1};v_j;v_{i+1},\ldots,v_{j-1};v_i;v_{j+1},\ldots,v_n)
  \end{align*}
\end{prop}
変数を入れ替えたときに符号がどうなるかについて考える.
$\Set{1,\ldots,n}$から$\Set{1,\ldots,n}$への全単射$\sigma$を
$\Set{1,\ldots,n}$上の順列と呼ぶ.
数列$[\sigma(1),\sigma(2),\ldots,\sigma(n)]$
は$\Set{1,\ldots,n}$がちょうど一度ずつ現れる数列である.
$S_n$で
$\Set{1,\ldots,n}$上の順列をすべて集めた集合とする.
$\sigma\in S_n$に対し,
\begin{align*}
  \Inv(\sigma)=\Set{(i,j)|i<j,\sigma(i)>\sigma(j)}
\end{align*}
とし,
\begin{align*}
 \sgn(\sigma) =(-1)^{\numof{\Inv(\sigma)}}
\end{align*}
とおく.

\begin{prop}
  $V$, $W$を$\KK$-線形空間とし,
  \begin{align*}
    F\colon \underbrace{V\times V\times \cdots \times V}_n\to W
  \end{align*}
  は
  交代的な$n$重線形写像とする.
  このとき, $v_1,\ldots,v_n\in V$に対し,
  \begin{align*}
    F(v_{\sigma(1)},\ldots,v_{\sigma(n)})
    =
    \sgn(\sigma)\act F(v_1,\ldots,v_n).
  \end{align*}
\end{prop}
\begin{proof}\end{proof}

\begin{prop}
  $V$, $W$を$\KK$-線形空間とし,
  \begin{align*}
    F\colon \underbrace{V\times V\times \cdots \times V}_n\to W
  \end{align*}
  は
  交代的な$n$重線形写像とする.
  $v_1,\ldots,v_n\in V$に対し,
  \begin{align*}
    u_j=\sum_{i=1}^n a_{i,j}\act v_i
  \end{align*}
  とすると,
  \begin{align*}
    F(u_{1},\ldots,u_{n})
    =
    (\sum_{\sigma\in S_n} a_{1,\sigma(1)}\cdots a_{n,\sigma(n)})
    \act F(v_1,\ldots,v_n).
  \end{align*}
\end{prop}
\begin{proof}\end{proof}

\begin{prop}
  $V$, $W$を$\KK$-線形空間とし,
  $(v_1,\ldots,v_n)$は$V$の基底であるとする.
  \begin{align*}
    F&\colon \underbrace{V\times V\times \cdots \times V}_n\to W\\
    F'&\colon \underbrace{V\times V\times \cdots \times V}_n\to W
  \end{align*}
  は
  交代的な$n$重線形写像とする.
  このとき,
  \begin{align*}
    F(v_1,\ldots,v_n)=F'(v_1,\ldots,v_n)
    \implies
    F=F'.
  \end{align*}
\end{prop}
\begin{proof}\end{proof}

\begin{example}
  $V$を$\KK$-線形空間とし,
  $B=(v_1,\ldots,v_n)$は$V$の基底であるとする.
  \begin{align*}
    u_j=\sum_{i=1}^n a_{i,j}\act v_i
  \end{align*}
  に対して,
  \begin{align*}
    D_B(u_{1},\ldots,u_{n})
    =
    \sum_{\sigma\in S_n} \sgn(\sigma)a_{1,\sigma(1)}\cdots a_{n,\sigma(n)}.
  \end{align*}
  とおくと, $D_B\colon V\times \cdots \times V \to \KK$
  は交代的な$n$重線形写像である.
  とくに,
  \begin{align*}
    D_B(v_{1},\ldots,v_{n})=1
  \end{align*}
  である,
\end{example}

\section{行列式}

\begin{prop}
  \label{thm:universalprop:det}
  $V$を$n$次元$\KK$-線形空間とし,
  $\varphi\colon V \to V$を$\KK$-線形写像とする.
  このとき, 次を満たす$d\in\KK$がただ一つ存在する:
  \begin{enumerate}
  \item $W$が$\KK$-線形空間かつ$F\colon V\times\cdots \times V\to W$が交代的な多重線形写像ならば.
    \begin{align*}
      v_1,\ldots, v_n \in V\implies F(\varphi(v_1,\ldots,\varphi(v_n))=d \act F(\varphi(v_1,\ldots,\varphi(v_n)).
    \end{align*}
  \end{enumerate}
\end{prop}
\begin{proof}\end{proof}

\begin{definition}
  $V$を$n$次元$\KK$-線形空間とし,
  $\varphi\colon V \to V$を$\KK$-線形写像とする.
  このとき,
  \Cref{thm:universalprop:det}における定数$d$を$\det(\varphi)$とおく.
\end{definition}

\begin{prop}
  $V$を$n$次元$\KK$-線形空間とする.
  このとき, $\det(\id_V)=1$
\end{prop}
\begin{proof}\end{proof}

\begin{lemma}
  $V$を$n$次元$\KK$-線形空間とし,
  $\varphi\colon V \to V$を$\KK$-線形写像とする.
  このとき, $\det(\id_V)\neq 0$ならば$\varphi$は単射.
\end{lemma}
\begin{proof}\end{proof}


\begin{prop}
  $V$を$n$次元$\KK$-線形空間とし,
  $\varphi\colon V \to V$,
  $\psi\colon V \to V$,
  を$\KK$-線形写像とする.
  このとき,
  $\det(\psi\circ \varphi)=\det(\psi)\det(\varphi)$. 
\end{prop}
\begin{proof}\end{proof}

\begin{prop}
  $V$を$n$次元$\KK$-線形空間とし,
  $\varphi\colon V \to V$
  を$\KK$-線形写像とする.
  このとき,
  以下は同値:
  \begin{enumerate}
  \item $\det(\varphi)$が逆数を持つ.
  \item $\varphi$は同型写像.
  \end{enumerate}
\end{prop}
\begin{proof}\end{proof}



\begin{prop}
  $V$を$n$次元$\KK$-線形空間とし,
  $\varphi\colon V \to V$を$\KK$-線形写像とする.
  $B$を$V$の基底とし,
  $A$を$\varphi$の$B$に関する表現行列とする.
  このとき,
  $\det(\varphi)=\det(A)$. 
\end{prop}
\begin{proof}\end{proof}

\begin{cor}
  $A, P \in \KK^{n\times n}$とする.
  $P$が正則なら
  $\det(A)=\det(P^{-1}AP)$. 
\end{cor}
\begin{proof}\end{proof}


\sectionX{章末問題}
\begin{quiz}
  %\solvelater{quiz:1:1}
\end{quiz}

\chapter{固有空間と固有値}
\section{固有空間}

$V$を$\KK$-線形空間とし,
$\varphi\colon V\to V$を線形変換とする.
このとき, $\lambda\in \KK$
\begin{align*}
  \shazo{\varphi-\lambda\id_V}{V}{V}
  {v}{\varphi(v)-\lambda v}
\end{align*}
は線形写像である.
\begin{definition}
  $V$を$\KK$-線形空間とし,
  $\varphi\colon V\to V$を線形写像とする.
  $\lambda \in \KK$に対し,
  \begin{align*}
    E(\varphi,\lambda) = \Ker(\varphi - \lambda\id_V)
  \end{align*}
  とおく.
  $E(\varphi,\lambda)\neq \Set{\zzero}$であるとき,
  \begin{enumerate}
  \item $\lambda$を$\varphi$の固有値と呼ぶ.
  \item $E(\varphi,\lambda)$を固有値$\lambda$に属する$\varphi$の固有空間と呼ぶ.
  \item $v\in E(\varphi,\lambda)\setminus\Set{\zzero}$を固有値$\lambda$に属する$\varphi$の固有ベクトルと呼ぶ.
  \end{enumerate}
\end{definition}

\begin{remark}
  $V$を$\KK$-線形空間とし,
  $\varphi\colon V\to V$を線形写像とする.
  $\lambda \in \KK$に対し,
  $E(\varphi,\lambda)$は$V$の部分空間.
\end{remark}

\begin{remark}
  $V$を$\KK$-線形空間とし,
  $\varphi\colon V\to V$を線形写像とする.
  $\lambda \in \KK$に対し,
  \begin{align*}
    E(\varphi,\lambda) &= \Ker(\varphi - \lambda\id_V)\\
    &= \Set{v\in V|(\varphi - \lambda\id_V)(v)=\zzero}\\
    &= \Set{v\in V|\varphi(v) - \lambda v =\zzero}\\
    &= \Set{v\in V|\varphi(v) = \lambda v }
  \end{align*}
  である.
  つまり, $v\in V\setminus\Set{\zzero}$が
  固有値$\lambda$に属する$\varphi$の固有ベクトルであるというのは
  \begin{align*}
    \varphi(v)=\lambda v
  \end{align*}
  を満たすということである.
  特に, $v\in E(\varphi,\lambda)$に対し, $\varphi(v)\in E(\varphi,\lambda)$
  であるので,
  $E(\varphi,\lambda)$に制限し,
  \begin{align*}
    \shazo{\psi}{E(\varphi,\lambda)}{E(\varphi,\lambda)}
    {v}{\varphi(v)}
  \end{align*}
  を定義できる. 
  このとき, $\psi=\lambda \id_{E(\varphi,\lambda)}$である.
  $\dim_\KK(E(\varphi,\lambda))=l$とし, $B$を
  $E(\varphi,\lambda)$の基底すると,
  $\psi$の
  $B$に関する表現行列は$\lambda E_l$である.
\end{remark}
  

\begin{prop}
  $V$を$\KK$-線形空間とし,
  $\varphi\colon V\to V$を線形写像とする.
  $v_i$を固有値$\lambda_i$に属する$\varphi$の固有ベクトルとする.
  $\lambda_i$は相異なるとする.
  つまり, $i\neq j$ならば$\lambda_i \neq \lambda_j$を満たすとする.
  このとき,
  $(v_1,\ldots, v_l)$は一次独立.
\end{prop}
\begin{proof}\end{proof}

\begin{cor}
  $V$を$\KK$-線形空間とし,
  $\varphi\colon V\to V$を線形写像とする.
  $\lambda_i$を$\varphi$の相異なる固有値とする.
  このとき, 任意の$i$に対し,
  \begin{align*}
    E(\varphi,\lambda_i)\cap(E(\varphi,\lambda_1)+\cdots +E(\varphi,\lambda_{i-1})+E(\varphi,\lambda_i)+\cdots +E(\varphi,\lambda_{l})).
  \end{align*}
\end{cor}
\begin{proof}\end{proof}

\begin{cor}
  $V$を$\KK$-線形空間とし,
  $\varphi\colon V\to V$を線形写像とする.
  $\lambda_i$を$\varphi$の相異なる固有値とし,
  $U=E(\varphi,\lambda_1)+\cdots +E(\varphi,\lambda_{l})$
  とする.
  このとき, $U$は$U=E(\varphi,\lambda_1)\oplus \cdots \oplus E(\varphi,\lambda_{l})$と内部直和に分解される.
\end{cor}
\begin{proof}\end{proof}

\begin{prop}
  $V$を$\KK$-線形空間とし,
  $\varphi\colon V\to V$を線形写像とする.
  このとき, 以下は同値:
  \begin{enumerate}
  \item $\lambda$は$\varphi$の固有値である.
  \item $\dim(E(\varphi,\lambda))\geq 1$.
  \item $\varphi-\lambda\id_V$は単射でない.
  \item $\det(\varphi-\lambda\id_V)=0$.    
  \end{enumerate}
\end{prop}

\section{正方行列の固有値}
$A$を$n$次正方行列とし,
$V=\KK^n$とし,
\begin{align*}
  \shazo{\varphi}{\KK^n}{\KK^n}
  {v}{Av}
\end{align*}
という線形変換を考え,
この線形変換の固有値や固有空間を$A$の固有値や固有空間と呼ぶ.
つまり, 以下のように定義する:
\begin{definition}
  $A\in\KK^{n\times n}$とする.
  $\lambda \in \KK$に対し,
  \begin{align*}
    E(\varphi,\lambda) = \Set{v\in\KK^n|(A-\lambda E_n)v=\zzero_n}
  \end{align*}
  とおく.
  $E(\varphi,\lambda)\neq \Set{\zzero}$であるとき,
  \begin{enumerate}
  \item $\lambda$を$A$の固有値と呼ぶ.
  \item $E(\varphi,\lambda)$を固有値$\lambda$に属する$A$の固有空間と呼ぶ.
  \item $v\in E(\varphi,\lambda)\setminus\Set{\zzero}$を固有値$A$に属する$\varphi$の固有ベクトルと呼ぶ.
  \end{enumerate}
\end{definition}
$\lambda$が正方行列$A$の固有値であるとき,
固有値$\lambda$に属する$A$の固有空間
$E(\varphi,\lambda)$は,
\begin{align*}
    E(\varphi,\lambda) = \Set{v\in\KK^n|(A-\lambda E_n)v=\zzero_n}
\end{align*}
である.
これは,
係数行列が$A-\lambda E_n$である斉次連立一次方程式の解空間そのものである.
この斉次連立一次方程式の解空間は,
$A-\lambda E_n$を行基本変形するなどして求める
(つまり, 基底を与える) ことができる.
%基底を書くことができる.

固有値を求めるには次を利用することが多い:
\begin{prop}
\label{prop:mat:eignevalue:rootofcharpoly}
  $A\in\KK^{n\times n}$とする.
  $\lambda \in \KK$に対し, 以下は同値:
  \begin{enumerate}
  \item $\lambda$は$A$の固有値.
  \item $\det(A-\lambda E_n)=0$.
  \end{enumerate}
\end{prop}

正方行列$A$が与えられたとき,
$\lambda$に関する方程式
\begin{align*}
\det(A-\lambda E_n)=0
\end{align*}
を考えると,
一般に$n$次方程式である.
この方程式を解が求められれば,
その解は
\Cref{prop:mat:eignevalue:rootofcharpoly}
より,
$A$の固有値である.


\sectionX{章末問題}
\begin{quiz}
  %\solvelater{quiz:1:1}
\end{quiz}



\chapter{対角化と直和分解}
\section{線形写像の直和}
$V$, $U$を$\KK$線形空間とし,
$V=V_1\oplus V_2$,
$U=U_1\oplus U_2$と内部直和に分解されているとする.
$\varphi_1\colon V_1\to U_1$,
$\varphi_2\colon V_2\to U_2$
を線形写像とする.
このとき,
$v_1\in V_1$, $v_2\in V_2$
に対し,
$\varphi(v_1+v_2)=\varphi_1(v_1)+\varphi_2(v_2)$
とおくと,
線形写像
$\varphi\colon V\to U$
が定義できる.
この線形写像$\varphi$を$\varphi_1\oplus \varphi_2$と書く.
$D_1=(v_1,\ldots,v_n)$を$V_1$の基底,
$D_2=(v'_1,\ldots,v'_{n'})$を$V_2$の基底,
とすると,
$D=(v_1,\ldots,v_n,v'_1,\ldots,v'_{n'})$は$V$の基底である.
$B_1=(u_1,\ldots,u_m)$を$U_1$の基底,
$B_2=(u'_1,\ldots,u'_{m'})$を$U_2$の基底
とすると,
$B=(u_1,\ldots,u_m,u'_1,\ldots,u'_{m'})$は$U$の基底である.
$\varphi_1$の$D_1$, $B_1$に関する表現行列を$A_1$,
$\varphi_2$の$D_2$, $B_2$に関する表現行列を$A_2$とする.
このとき,
$\varphi_1\oplus \varphi_2$の$D$, $B$に関する表現行列は
\begin{align*}
  \begin{pmatrix}A_1&O\\O&A_2\end{pmatrix}
\end{align*}
である.

より一般に
$V=V_1\oplus \cdots \oplus V_l$,
$U=U_1\oplus \cdots \oplus U_l$
の様に$l$個の空間に直和分解されているとき,
同様に線形写像$\varphi_i\colon V_i\to U_i$の
直和$\varphi_1\oplus \cdots \oplus \varphi_l$を考えることができる.
各$V_i$や$U_i$の基底を合わせて$V$や$U$の基底を使った基底を考えるとき,
この基底に関する$\varphi_1\oplus \cdots \oplus \varphi_l$の表現行列は,
同様にブロック対角となる.

$V$上の線形変換について考える.
$V$を$n$次元$\KK$線形空間とし,
$V=V_1\oplus \cdots V_k$と内部直和に分解されているとする.
このとき, 線形変換$\varphi\colon V\to V$が,
\begin{align*}
\Set{\varphi(v)|v\in V_i}\subset V_i
\end{align*}
を満たすならば,
線形写像
\begin{align*}
  \shazo{\varphi_i}{V_i}{V_i}
  {v}{\varphi(v)}
\end{align*}
を定義できる.
定義から, $\varphi=\varphi_1\oplus \cdots \oplus \varphi_k$
である.
したがって, $V_i$の基底を合わせて$V$の基底にしたものを考えると,
$\varphi$のこの基底に関する表現行列はブロック対角となる.
特に$\dim_\KK(V)=k$で, 
$V=V_1\oplus \cdots V_k$と1次元部分空間$V_k$の内部直和に分解されているならば,
$v_i\in V_i\setminus \Set{\zzero}$とすると,
$B=(v_1,\ldots,v_k)$は$V$の基底となり,
この基底$B$に関する
$\varphi$の表現行列は対角行列となる.
表現行列が,
\begin{align*}
\begin{pmatrix}\lambda_1&&\\&\ddots&\\&&\lambda_n\end{pmatrix}
\end{align*}
となっているとき, $\varphi(v_i)=\lambda_iv_i$となるので,
$v_i$は固有値$\lambda_i$に属する固有ベクトルである.

\begin{definition}
  $V$を$\KK$線形空間とし,
  $\varphi\colon V\to V$を線形変換とする.
  $B$に関する$\varphi$の表現行列が対角行列となるような$V$の基底$B$が存在するとき,
  $\varphi$は対角化可能であるという.
\end{definition}
\begin{remark}
  どんな線形変換も対角化可能であるわけではない.
\end{remark}

\begin{lemma}
  $V$を$\KK$線形空間とし,
  $\lambda\in\KK$とする.
  線形変換
  \begin{align*}
    \shazo{\varphi}{V}{V}
    {v}{\lambda v}
  \end{align*}
  は対角化可能.
\end{lemma}
\begin{proof}\end{proof}
\begin{lemma}
  $V$を$\KK$線形空間とし,
  $\varphi\colon V\to V$を線形変換とする.
  線形変換
  \begin{align*}
    \shazo{\varphi}{E(\varphi,\lambda)}{E(\varphi,\lambda)}
    {v}{\varphi(v)}
  \end{align*}
  は対角化可能.
\end{lemma}
\begin{proof}\end{proof}
\begin{prop}
  $V$を有限次元$\KK$線形空間とし,
  $\varphi\colon V\to V$を線形変換とする.
  $\lambda_1,\ldots,\lambda_l$を$\varphi$の相異なる固有値とし,
  $\varphi$の固有値はこれで全てであるとする.
  このとき, 以下は同値:
  \begin{enumerate}
  \item $\varphi$は対角化可能.
  \item $V$は$V=E(\varphi,\lambda_1)\oplus\cdots \oplus E(\varphi,\lambda_l)$
    と内部直和に分解される.
  \item $\dim_\KK(V)=\sum_{i=1}^{l} \dim_{\KK}(E(\varphi,\lambda_1))$.
  \end{enumerate}
\end{prop}
\begin{proof}\end{proof}

\begin{cor}
  $V$を$n$次元$\KK$線形空間とし,
  $\varphi\colon V\to V$を線形変換とする.
  $\lambda_1,\ldots,\lambda_n$が$\varphi$の相異なる固有値であるなら,
  $\varphi$は対角化可能.  
\end{cor}

\section{行列の対角化}
$A$を$n$次正方行列とする.
$V=\KK^n$とし, 線形変換
\begin{align*}
  \shazo{\varphi}{V}{V}
  {v}{Av}
\end{align*}
を考える.
この線形変換が対角化可能であるとき,
行列$A$は対角化可能であるという.
基底を取り替えることは,
表現行列に対し正則行列$P$で$P^{-1}AP$という操作を行うことであるので,
以下のように定義できる:
\begin{definition}
  次を満たすとき$A\in \KK^{n\times n}$は対角化可能であるという:
  \begin{enumerate}
  \item 次の条件を満たす正則行列$P$と$\lambda_1,\ldots,\lambda_n\in\KK$が存在する:
    \begin{align*}
      P^{-1}AP=
      \begin{pmatrix}\lambda_1&&\\&\ddots&\\&&\lambda_n\end{pmatrix}
    \end{align*}
  \end{enumerate}
\end{definition}
\begin{remark}
  $A$が正則行列$P$と対角行列$D$に対し, $P^{-1}AP=D$となっているとき,
  $A$は$P$によって$D$に対角化されるという.
  また, このような$P$と$D$を求めることを$A$を対角化するということがある.
\end{remark}

\begin{lemma}
  $A,P\in\KK^{n\times n}$が
    \begin{align*}
      P^{-1}AP=
      \begin{pmatrix}\lambda_1&&\\&\ddots&\\&&\lambda_n\end{pmatrix}
    \end{align*}
    を満たしているとき,
    $P(\ee_i)$は固有値$\lambda_i$に属する$A$の固有ベクトルである.
\end{lemma}
\begin{proof}\end{proof}

\begin{lemma}
  $A\in\KK^{n\times n}$とし,
  $v_i$を固有値$\lambda_i$に属する$A$の固有ベクトルとする.
  $P$を$v_i$を並べて得られる$n$次正方行列とする.
  つまり$P=(v_1|\cdots | v_n)$とする.
  $P$が正則ならば
    \begin{align*}
      P^{-1}AP=
      \begin{pmatrix}\lambda_1&&\\&\ddots&\\&&\lambda_n\end{pmatrix}
    \end{align*}
    である.
\end{lemma}
\begin{proof}\end{proof}


\begin{prop}
  $A\in\KK^{n\times n}$とする.
  このとき, 以下は同値:
  \begin{enumerate}
  \item $A$が対角化可能.
  \item
    以下の条件を満たす$v_1,\ldots,v_n$が存在する.
\begin{enumerate}
\item $(v_1,\ldots,v_n)$が一次独立
\item  各$v_j$は$A$の固有ベクトル
  \end{enumerate}
  \end{enumerate}
\end{prop}
\begin{proof}\end{proof}



\sectionX{章末問題}
\begin{quiz}
  %\solvelater{quiz:1:1}
\end{quiz}

\chapter{上半三角化とケーリーハミルトンの定理}

\section{上半三角化}

\begin{definition}
$V$を$\KK$-線形空間とし,
$\varphi\colon V\to V$を$\KK$-線形変換とする.
$V$の基底$B=(v_1,\ldots,v_n)$が以下の条件を満たすとき,
$\varphi$は$V$によって三角化されるという:
\begin{enumerate}
\item
$i\in\Set{1,\ldots,n}$に対し,
以下を満たす$a_{i,j}\in\KK$がとれる:
\begin{align*}
\varphi(v_i)=\sum_{j\colon j\leq i }a_{i,j}v_i.
\end{align*}
\end{enumerate}
\end{definition}
$\vaphi$が$B$によって三角化されるとき,
$B$に関する表現行列は三角行列である.
正方行列$A$に対しても三角化という用語を導入する:
\begin{definition}
$A\in \KK^{n\times n}$とする.
正則行列$P$で$T=P^{-1}AP$が上半三角行列であるとき,
$A$は$P$で$T$に三角化されるという.
\end{definition}

\begin{prop}
$A\in \KK^{n\times n}$とする.
$\det(tE_n-A)=\prod_{i=1}^n (t-\lambda_i)$
と因数分解できるとき,
$A$は対角成分が$\lambda_1,\ldots,\lambda_n$である三角行列に対角化される.
\end{prop}
\begin{proof}
$n$に関する数学的帰納法で示す.
\paragraph{Base Case}
\paragraph{Induction Step}
\end{proof}

\begin{prop}
\label{prop:chthm}
$A\in \KK^{n\times n}$とし,
$\det(tE_n-A)=a_0t^0+a_1t+a_2t^2\cdots+a_{n-1}t^{n-1}+t^n$
とする.
このとき,
\begin{align*}
a_0E_n+a_1A+a_2A^2+\cdots+a_{n-1}A^{n-1}+A^n=O_{n,n}.
\end{align*}
\end{prop}
\begin{proof}
$\det(tE_n-A)=\prod_{i=1}^n (t-\lambda_i)$
と因数分解できるときのみについて,
ここでは証明する.
\end{proof}
\begin{remark}
例えば,
体として$\RR$を考えている場合には,
$\det(tE_n-A)$は一次式の積には因数分解できないかもしれない.
しかしならが,
$\RR\subset\CC$であり,
体として$\CC$を考えれば,
必ず一次式の積に分解できる.
したがって,
$\RR$の場合でも, 一旦$\CC$で考えることでこの証明が適用でき,
\Cref{prop:chthm}が成り立つ.
\end{remark}
$a_0t^0+a_1t+a_2t^2\cdots+a_{n-1}t^{n-1}+t^n$
の$t$に$A$を代入したもの, つまり, $t^k$を$A^k$に, $t^0$を$E_n$に置き換えたもの,
$a_0E_n+a_1A+a_2A^2+\cdots+a_{n-1}A^{n-1}+A^n$
は,
多項式が固有多項式であるとき, $O_{n,n}$になる.
同様に$A$を代入すると$O_{n,n}$となる多項式について考える.
\begin{definition}
$A\in\KK^{n\times n}$とする.
以下を満たすとき,
多項式
$a_0t^0+a_1t+a_2t^2\cdots+a_{,}t^{m}$
を$A$の零化多項式と呼ぶ:
\begin{align*}
a_0E_n+a_1A+a_2A^2+\cdots+a_mA^m=O_{n,n}.
\end{align*}
\end{definition}

$\KK$を体とする.
$A\in\KK^{n\times n}$とする.
$I$を$A$の零化多項式をすべて集めた集合とする.
$A$の固有多項式は$I$の元である.
$I$に含まれる$0$ではない多項式の次数のうち最小のものを$d$とおく.
つまり,
$d=\min\Set{ \deg(f) |f \in I\setminus\Set{0}}$.
$A$の固有多項式は$n$次多項式であるから,
$0<d\leq n$である.
$d$次多項式$f$
と
$m$次多項式$g$
がともに, $I$の元とする.
$d$は最小の次数であるから,
$d\leq m$である.
このとき,
$g$を$f$で割ったあまりを考えると,
$g=pf+q$とかけるが,
あまりの, 定義から$q\neq 0$であれば, $1\leq \deg(q)<\deg(f)=d$
である.
$g=pf+q$の, $pf$を移項すると$g-pf=q$である.
$g,f\in I$であるから, $g,f$に$A$を代入すると$O_{n,n}$である.
したがって,
$g-pf$の$t$に$A$を代入すると$O_{n,n}$になるので,
$g-pf\in I$である.
したがって, $q\in I$である.
$I$に含まれる$0$でない多項式の次数は$d$以上であるから,
$q\neq 0$となることはない.
よって$q=0$である.
つまり, $f$は$g$を割り切る.
さらに, $f$も$g$も$I$の元であり$\deg(f)=\deg(g)=d$であるとすると,
$f$は$g$を割り切り, $g$も$f$を割り切ることから,
$f=cg$を満たす$c\in\KK$がとれる.
したがって,
$I$に含まれる多項式で最高次数係数が$1$であるものはただ一つに定まる.
これを$A$の最小多項式と呼ぶ.

\begin{definition}
$A\in\KK^{n\times n}$とする.
最高次の係数が$1$である$A$の零化多項式のうち, 
次数が最も低いものを,
$A$の最小多項式と呼ぶ.
\end{definition}

\begin{cor}
$A\in\KK^{n\times n}$とする.
$A$の最小多項式は$A$の固有多項式を割り切る.
\end{cor}
\begin{prop}
$A\in\KK^{n\times n}$とし,
$a_0+a_1t+\cdots+a_mt^m$を$A$の零化多項式とする.
$\lambda$が$A$の固有値ならば,
$a_0+a_1\lambda+\cdots+a_m\lambda^m=0$,
\end{prop}
\begin{cor}
$A\in\KK^{n\times n}$とする.
このとき, 以下は同値:
\begin{enumerate}
\item $\lambda$は$A$の固有値.
\item $\lambda$は$A$の固有多項式の根.
(つまり, $\lambda$は$A$の固有方程式の解)
\item $\lambda$は$A$の最小多項式の根.
(つまり, $f(t)$を$A$の最小多項式とすると,
$\lambda$は$t$に関する方程式$f(t)=0$の解.)
\end{enumerate}
\end{cor}

\sectionX{章末問題}
\begin{quiz}
  %\solvelater{quiz:1:1}
\end{quiz}




\chapter{}
\sectionX{章末問題}
\begin{quiz}
  %\solvelater{quiz:1:1}
\end{quiz}





\chapter{}
内部直和と外部直和
\begin{prop}
  $U=V\oplus W$とする.
  $v\in V$, $w\in W$ならば,
  $(v,w)$は一次独立.
\end{prop}


無限次元ベクトル空間の基底と多項式環.
